

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Internationalization &mdash; Evennia 0.9.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Evennia 0.9.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Evennia
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Internationalization</a><ul>
<li><a class="reference internal" href="#changing-server-language">Changing server language</a></li>
<li><a class="reference internal" href="#translating-evennia">Translating Evennia</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Evennia</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Internationalization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Internationalization.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="internationalization">
<h1>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h1>
<p><em>Internationalization</em> (often abbreviated <em>i18n</em> since there are 18 characters between the first “i”
and the last “n” in that word) allows Evennia’s core server to return texts in other languages than
English - without anyone having to edit the source code. Take a look at the <code class="docutils literal notranslate"><span class="pre">locale</span></code> directory of
the Evennia installation, there you will find which languages are currently supported.</p>
<div class="section" id="changing-server-language">
<h2>Changing server language<a class="headerlink" href="#changing-server-language" title="Permalink to this headline">¶</a></h2>
<p>Change language by adding the following to your <code class="docutils literal notranslate"><span class="pre">mygame/server/conf/settings.py</span></code> file:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">USE_I18N</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">&#39;en&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Here <code class="docutils literal notranslate"><span class="pre">'en'</span></code> should be changed to the abbreviation for one of the supported languages found in <code class="docutils literal notranslate"><span class="pre">locale/</span></code>. Restart the server to activate i18n. The two-character international language codes are found <a class="reference external" href="http://www.science.co.il/Language/Codes.asp">here</a>.</p>
<blockquote>
<div><p>Windows Note: If you get errors concerning <code class="docutils literal notranslate"><span class="pre">gettext</span></code> or <code class="docutils literal notranslate"><span class="pre">xgettext</span></code> on Windows, see the <a class="reference external" href="https://docs.djangoproject.com/en/1.7/topics/i18n/translation/#gettext-on-windows">Django documentation</a>. A self-installing and up-to-date version of gettext for Windows (32/64-bit) is available on <a class="reference external" href="https://github.com/mlocati/gettext-iconv-windows">Github</a>.</p>
</div></blockquote>
</div>
<div class="section" id="translating-evennia">
<h2>Translating Evennia<a class="headerlink" href="#translating-evennia" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Important Note:</strong> Evennia offers translations of hard-coded strings in the server, things like “Connection closed” or “Server restarted”, strings that end users will see and which game devs are not supposed to change on their own. Text you see in the log file or on the command line (like error messages) are generally <em>not</em> translated (this is a part of Python).</p>
</div></blockquote>
<blockquote>
<div><p>In addition, text in default Commands and in default Typeclasses will <em>not</em> be translated by switching <em>i18n</em> language. To translate Commands and Typeclass hooks you must overload them in your game directory and translate their returns to the language you want. This is because from Evennia’s perspective, adding <em>i18n</em> code to commands tend to add complexity to code that is <em>meant</em> to be changed anyway. One of the goals of Evennia is to keep the user-changeable code as clean and easy-to-read as possible.</p>
</div></blockquote>
<p>If you cannot find your language in <code class="docutils literal notranslate"><span class="pre">evennia/locale/</span></code> it’s because noone has translated it yet. Alternatively you might have the language but find the translation bad … You are welcome to help improve the situation!</p>
<p>To start a new translation you need to first have cloned the Evennia repositry with GIT and activated a python virtualenv as described on the <a class="reference internal" href="Getting-Started.html"><span class="doc">Getting Started</span></a> page. You now need to <code class="docutils literal notranslate"><span class="pre">cd</span></code> to the <code class="docutils literal notranslate"><span class="pre">evennia/</span></code> directory. This is <em>not</em> your created game folder but the main Evennia library folder. If you see a folder <code class="docutils literal notranslate"><span class="pre">locale/</span></code> then you are in the right place. From here you run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">evennia</span> <span class="n">makemessages</span> <span class="o">&lt;</span><span class="n">language</span><span class="o">-</span><span class="n">code</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;language-code&gt;</span></code> is the <a class="reference external" href="http://www.science.co.il/Language/Codes.asp">two-letter locale code</a> for the language you want, like ‘sv’ for Swedish or ‘es’ for Spanish. After a moment it will tell you the language has been processed.  For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">evennia</span> <span class="n">makemessages</span> <span class="n">sv</span>
</pre></div>
</div>
<p>If you started a new language a new folder for that language will have emerged in the <code class="docutils literal notranslate"><span class="pre">locale/</span></code> folder. Otherwise the system will just have updated the existing translation with eventual new strings found in the server. Running this command will not overwrite any existing strings so you can run it as much as you want.</p>
<blockquote>
<div><p>Note: in Django, the <code class="docutils literal notranslate"><span class="pre">makemessages</span></code> command prefixes the locale name by the <code class="docutils literal notranslate"><span class="pre">-l</span></code> option (<code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">makemessages</span> <span class="pre">-l</span> <span class="pre">sv</span></code> for instance).  This syntax is not allowed in Evennia, due to the fact that <code class="docutils literal notranslate"><span class="pre">-l</span></code> is the option to tail log files.  Hence, <code class="docutils literal notranslate"><span class="pre">makemessages</span></code> doesn’t use the <code class="docutils literal notranslate"><span class="pre">-l</span></code> flag.</p>
</div></blockquote>
<p>Next head to <code class="docutils literal notranslate"><span class="pre">locale/&lt;language-code&gt;/LC_MESSAGES</span></code> and edit the <code class="docutils literal notranslate"><span class="pre">**.po</span></code> file you find there.  You can edit this with a normal text editor but it is easiest if you use a special po-file editor from the web (search the web for “po editor” for many free alternatives).</p>
<p>The concept of translating is simple, it’s just a matter of taking the english strings you find in
the <code class="docutils literal notranslate"><span class="pre">**.po</span></code> file and add your language’s translation best you can. The <code class="docutils literal notranslate"><span class="pre">**.po</span></code> format (and many
supporting editors) allow you to mark translations as “fuzzy”. This tells the system (and future
translators) that you are unsure about the translation, or that you couldn’t find a translation that
exactly matched the intention of the original text. Other translators will see this and might be
able to improve it later.
Finally, you need to compile your translation into a more efficient form. Do so from the <code class="docutils literal notranslate"><span class="pre">evennia</span></code> folder
again:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">evennia</span> <span class="n">compilemessages</span>
</pre></div>
</div>
<p>This will go through all languages and create/update compiled files (<code class="docutils literal notranslate"><span class="pre">**.mo</span></code>) for them. This needs to be done whenever a <code class="docutils literal notranslate"><span class="pre">**.po</span></code> file is updated.</p>
<p>When you are done, send the <code class="docutils literal notranslate"><span class="pre">**.po</span></code> and <code class="docutils literal notranslate"><span class="pre">*.mo</span></code> file to the Evennia developer list (or push it into your own repository clone) so we can integrate your translation into Evennia!</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, The Evennia developer community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.9.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>