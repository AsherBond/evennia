
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>evennia.prototypes package &#8212; Evennia 0.9.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-evennia.prototypes">
<span id="evennia-prototypes-package"></span><h1>evennia.prototypes package<a class="headerlink" href="#module-evennia.prototypes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-evennia.prototypes.menus">
<span id="evennia-prototypes-menus-module"></span><h2>evennia.prototypes.menus module<a class="headerlink" href="#module-evennia.prototypes.menus" title="Permalink to this headline">¶</a></h2>
<p>OLC Prototype menu nodes</p>
<dl class="class">
<dt id="evennia.prototypes.menus.OLCMenu">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">OLCMenu</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">menudata</em>, <em class="sig-param">startnode='start'</em>, <em class="sig-param">cmdset_mergetype='Replace'</em>, <em class="sig-param">cmdset_priority=1</em>, <em class="sig-param">auto_quit=True</em>, <em class="sig-param">auto_look=True</em>, <em class="sig-param">auto_help=True</em>, <em class="sig-param">cmd_on_exit='look'</em>, <em class="sig-param">persistent=False</em>, <em class="sig-param">startnode_input=''</em>, <em class="sig-param">session=None</em>, <em class="sig-param">debug=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#OLCMenu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.OLCMenu" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.evmenu.EvMenu" title="evennia.utils.evmenu.EvMenu"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.evmenu.EvMenu</span></code></a></p>
<p>A custom EvMenu with a different formatting for the options.</p>
<dl class="method">
<dt id="evennia.prototypes.menus.OLCMenu.display_helptext">
<code class="sig-name descname">display_helptext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#OLCMenu.display_helptext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.OLCMenu.display_helptext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.menus.OLCMenu.helptext_formatter">
<code class="sig-name descname">helptext_formatter</code><span class="sig-paren">(</span><em class="sig-param">helptext</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#OLCMenu.helptext_formatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.OLCMenu.helptext_formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Show help text</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.menus.OLCMenu.nodetext_formatter">
<code class="sig-name descname">nodetext_formatter</code><span class="sig-paren">(</span><em class="sig-param">nodetext</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#OLCMenu.nodetext_formatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.OLCMenu.nodetext_formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the node text itself.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.menus.OLCMenu.options_formatter">
<code class="sig-name descname">options_formatter</code><span class="sig-paren">(</span><em class="sig-param">optionlist</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#OLCMenu.options_formatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.OLCMenu.options_formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the options into two blocks - olc options and normal options</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._add_attr">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_add_attr</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">attr_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_add_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._add_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new attribute, parsing input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Object</em>) – Caller of menu.</p></li>
<li><p><strong>attr_string</strong> (<em>str</em>) – <p>Input from user
attr is entered on these forms</p>
<blockquote>
<div><p>attr = value
attr;category = value
attr;category;lockstring = value</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><dl class="simple">
<dt>delete (str): If this is set, attr_string is</dt><dd><p>considered the name of the attribute to delete and
no further parsing happens.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Result string of action.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>result (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._add_perm">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_add_perm</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">perm</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_add_perm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._add_perm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._add_prototype_tag">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_add_prototype_tag</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">tag_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_add_prototype_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._add_prototype_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Add prototype_tags to the system. We only support straight tags, no
categories (category is assigned automatically).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Object</em>) – Caller of menu.</p></li>
<li><p><strong>tag_string</strong> (<em>str</em>) – Input from user - only tagname</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><dl class="simple">
<dt>delete (str): If this is set, tag_string is considered</dt><dd><p>the name of the tag to delete.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Result string of action.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>result (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._add_tag">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_add_tag</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">tag_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_add_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._add_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tags to the system, parsing input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Object</em>) – Caller of menu.</p></li>
<li><p><strong>tag_string</strong> (<em>str</em>) – Input from user on one of these forms
tagname
tagname;category
tagname;category;data</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><dl class="simple">
<dt>delete (str): If this is set, tag_string is considered</dt><dd><p>the name of the tag to delete.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Result string of action.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>result (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._aliases_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_aliases_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_aliases_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._aliases_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for aliases listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._aliases_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_aliases_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">alias</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_aliases_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._aliases_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Add numbers as aliases</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._all_aliases">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_all_aliases</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_all_aliases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._all_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get aliases in prototype</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._all_prototype_parents">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_all_prototype_parents</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_all_prototype_parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._all_prototype_parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prototype_key of all available prototypes for listing in menu</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._all_typeclasses">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_all_typeclasses</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_all_typeclasses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._all_typeclasses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get name of available typeclasses.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._apply_diff">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_apply_diff</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_apply_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._apply_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>update existing objects</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._attr_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_attr_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">attrstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_attr_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._attr_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._attrs_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_attrs_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_attrs_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._attrs_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for attribute listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_attrs">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_attrs</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_locks">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_locks</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_locks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_permissions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_permissions</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_prototype_locks">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_prototype_locks</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_prototype_locks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_prototype_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_prototype_tags">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_prototype_tags</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_prototype_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_prototype_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._caller_tags">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_caller_tags</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_caller_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._caller_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._check_prototype_key">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_check_prototype_key</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_check_prototype_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._check_prototype_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._default_parse">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_default_parse</code><span class="sig-paren">(</span><em class="sig-param">raw_inp</em>, <em class="sig-param">choices</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_default_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._default_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to parse default input to a node decorated with the node_list decorator on
the form l1, l 2, look 1, etc. Spaces are ignored, as is case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_inp</strong> (<em>str</em>) – Input from the user.</p></li>
<li><p><strong>choices</strong> (<em>list</em>) – List of available options on the node listing (list of strings).</p></li>
<li><p><strong>args</strong> (<em>tuples</em>) – The available actions, each specifed as a tuple (name, alias, …)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A choice among the choices, or None if no match was found.
action (str): The action operating on the choice, or None.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>choice (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._display_attribute">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_display_attribute</code><span class="sig-paren">(</span><em class="sig-param">attr_tuple</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_display_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._display_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty-print attribute tuple</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._display_perm">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_display_perm</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">permission</em>, <em class="sig-param">only_hierarchy=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_display_perm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._display_perm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._display_tag">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_display_tag</code><span class="sig-paren">(</span><em class="sig-param">tag_tuple</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_display_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._display_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty-print tag tuple</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._format_diff_text_and_options">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_format_diff_text_and_options</code><span class="sig-paren">(</span><em class="sig-param">diff</em>, <em class="sig-param">minimal=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_format_diff_text_and_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._format_diff_text_and_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Reformat the diff in a way suitable for the olc menu.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diff</strong> (<em>dict</em>) – A diff as produced by <cite>prototype_diff</cite>.</p></li>
<li><p><strong>minimal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Don’t show KEEPs.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>any (any): Forwarded into the generated options as arguments to the callable.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of texts.
options (list): List of options dict.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>texts (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._format_list_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_format_list_actions</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_format_list_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._format_list_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Create footer text for nodes with extra list actions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>actions</strong> (<em>str</em>) – Available actions. The first letter of the action name will be assumed
to be a shortcut.</p>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>prefix (str): Default prefix to use.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Formatted footer for adding to the node text.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._format_lockfuncs">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_format_lockfuncs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_format_lockfuncs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._format_lockfuncs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._format_option_value">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_format_option_value</code><span class="sig-paren">(</span><em class="sig-param">prop</em>, <em class="sig-param">required=False</em>, <em class="sig-param">prototype=None</em>, <em class="sig-param">cropper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_format_option_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._format_option_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Format wizard option values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> (<em>str</em>) – Name or value to format.</p></li>
<li><p><strong>required</strong> (<em>bool</em><em>, </em><em>optional</em>) – The option is required.</p></li>
<li><p><strong>prototype</strong> (<em>dict</em><em>, </em><em>optional</em>) – If given, <cite>prop</cite> will be considered a key in this prototype.</p></li>
<li><p><strong>cropper</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function to crop the value to a certain width.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formatted value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>value (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._format_protfuncs">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_format_protfuncs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_format_protfuncs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._format_protfuncs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_current_value">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_current_value</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">keyname</em>, <em class="sig-param">comparer=None</em>, <em class="sig-param">formatter=&lt;class 'str'&gt;</em>, <em class="sig-param">only_inherit=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_current_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_current_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current value, marking if value comes from parent or set in this prototype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keyname</strong> (<em>str</em>) – Name of prototoype key to get current value of.</p></li>
<li><p><strong>comparer</strong> (<em>callable</em><em>, </em><em>optional</em>) – This will be called as comparer(prototype_value,
flattened_value) and is expected to return the value to show as the current
or inherited one. If not given, a straight comparison is used and what is returned
depends on the only_inherit setting.</p></li>
<li><p><strong>formatter</strong> (<em>callable</em><em>, </em><em>optional</em><em>)</em>) – This will be called with the result of comparer.</p></li>
<li><p><strong>only_inherit</strong> (<em>bool</em><em>, </em><em>optional</em>) – If a current value should only be shown if all
the values are inherited from the prototype parent (otherwise, show an empty string).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>current (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_flat_menu_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_flat_menu_prototype</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">refresh=False</em>, <em class="sig-param">validate=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_flat_menu_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_flat_menu_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prototype where parent values are included</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_menu_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_menu_prototype</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_menu_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_menu_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return currently active menu prototype.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_tup_by_attrname">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_tup_by_attrname</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">attrname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_tup_by_attrname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_tup_by_attrname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_tup_by_tagname">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_tup_by_tagname</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">tagname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_tup_by_tagname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_tup_by_tagname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._get_unchanged_inherited">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_get_unchanged_inherited</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">protname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_get_unchanged_inherited"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._get_unchanged_inherited" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prototype values inherited from parent(s), which are not replaced in child</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._is_new_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_is_new_prototype</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_is_new_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._is_new_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if prototype is marked as new or was loaded from a saved one.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._keep_diff">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_keep_diff</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_keep_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._keep_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to KEEP setting for a given section of a diff</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._lock_add">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_lock_add</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">lock</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_lock_add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._lock_add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._lock_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_lock_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">lockstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_lock_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._lock_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._locks_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_locks_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_locks_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._locks_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._locks_display">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_locks_display</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">lock</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_locks_display"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._locks_display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._object_search_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_object_search_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_object_search_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._object_search_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>All this does is to queue a search query</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._object_search_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_object_search_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">obj_entry</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_object_search_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._object_search_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._path_cropper">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_path_cropper</code><span class="sig-paren">(</span><em class="sig-param">pythonpath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_path_cropper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._path_cropper" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop path to only the last component</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._permission_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_permission_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">permission</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_permission_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._permission_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._permissions_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_permissions_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_permissions_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._permissions_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for permission listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_load_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_load_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_load_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_load_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the default Convert prototype to a string representation for closer inspection</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_load_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_load_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">prototype_key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_load_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_load_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_lock_add">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_lock_add</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">lock</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_lock_add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_lock_add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_lock_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_lock_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">lockstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_lock_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_lock_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_locks_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_locks_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_locks_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_locks_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_parent_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_parent_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_parent_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_parent_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the default Convert prototype to a string representation for closer inspection</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_parent_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_parent_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">new_parent</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_parent_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_parent_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_tag_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_tag_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">tagname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_tag_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_tag_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._prototype_tags_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_prototype_tags_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_prototype_tags_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._prototype_tags_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for tags listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._search_object">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_search_object</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_search_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._search_object" title="Permalink to this definition">¶</a></dt>
<dd><p>update search term based on query stored on menu; store match too</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._set_actioninfo">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_set_actioninfo</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_set_actioninfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._set_actioninfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._set_menu_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_set_menu_prototype</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">prototype</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_set_menu_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._set_menu_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the prototype with existing one</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._set_property">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_set_property</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_set_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._set_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or update a property. To be called by the ‘goto’ option variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Object</em><em>, </em><em>Account</em>) – The user of the wizard.</p></li>
<li><p><strong>raw_string</strong> (<em>str</em>) – Input from user on given node - the new value to set.</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Kwargs:</dt><dd><dl class="simple">
<dt>test_parse (bool): If set (default True), parse raw_string for protfuncs and obj-refs and</dt><dd><p>try to run result through literal_eval. The parser will be run in ‘testing’ mode and any
parsing errors will shown to the user. Note that this is just for testing, the original
given string will be what is inserted.</p>
</dd>
</dl>
<p>prop (str): Property name to edit with <cite>raw_string</cite>.
processor (callable): Converts <cite>raw_string</cite> to a form suitable for saving.
next_node (str): Where to redirect to after this has run.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Next node to go to.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>next_node (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._set_prototype_value">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_set_prototype_value</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">field</em>, <em class="sig-param">value</em>, <em class="sig-param">parse=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_set_prototype_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._set_prototype_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set prototype’s field in a safe way.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._spawn">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_spawn</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn prototype</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._tag_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_tag_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">tagname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_tag_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._tag_select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._tags_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_tags_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_tags_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._tags_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for tags listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._typeclass_actions">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_typeclass_actions</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_inp</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_typeclass_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._typeclass_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse actions for typeclass listing</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._typeclass_select">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_typeclass_select</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">typeclass</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_typeclass_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._typeclass_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select typeclass from list and add it to prototype. Return next node to go to.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._validate_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_validate_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_validate_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._validate_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Run validation on prototype</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus._wizard_options">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">_wizard_options</code><span class="sig-paren">(</span><em class="sig-param">curr_node</em>, <em class="sig-param">prev_node</em>, <em class="sig-param">next_node</em>, <em class="sig-param">color='|W'</em>, <em class="sig-param">search=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#_wizard_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus._wizard_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates default navigation options available in the wizard.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_apply_diff">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_apply_diff</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_apply_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_apply_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Offer options for updating objects</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_destination">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_destination</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_destination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_destination" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_examine_entity">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_examine_entity</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_examine_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_examine_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>General node to view a text and then return to previous node.  Kwargs should contain “text” for
the text to show and ‘back” pointing to the node to return to.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_home">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_home</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_home"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_home" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_index">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_index</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_key">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_key</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_location">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_location</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_prototype_desc">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_prototype_desc</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_prototype_desc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_prototype_desc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_prototype_key">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_prototype_key</code><span class="sig-paren">(</span><em class="sig-param">caller</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_prototype_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_prototype_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_prototype_save">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_prototype_save</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_prototype_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_prototype_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save prototype to disk</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_prototype_spawn">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_prototype_spawn</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_prototype_spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_prototype_spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Submenu for spawning the prototype</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.node_validate_prototype">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">node_validate_prototype</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">raw_string</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#node_validate_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.node_validate_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>General node to view and validate a protototype</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.menus.start_olc">
<code class="sig-prename descclassname">evennia.prototypes.menus.</code><code class="sig-name descname">start_olc</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">session=None</em>, <em class="sig-param">prototype=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/menus.html#start_olc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.menus.start_olc" title="Permalink to this definition">¶</a></dt>
<dd><p>Start menu-driven olc system for prototypes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Object</em><em> or </em><em>Account</em>) – The entity starting the menu.</p></li>
<li><p><strong>session</strong> (<a class="reference internal" href="evennia.server.html#evennia.server.session.Session" title="evennia.server.session.Session"><em>Session</em></a><em>, </em><em>optional</em>) – The individual session to get data.</p></li>
<li><p><strong>prototype</strong> (<em>dict</em><em>, </em><em>optional</em>) – Given when editing an existing
prototype rather than creating a new one.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-evennia.prototypes.protfuncs">
<span id="evennia-prototypes-protfuncs-module"></span><h2>evennia.prototypes.protfuncs module<a class="headerlink" href="#module-evennia.prototypes.protfuncs" title="Permalink to this headline">¶</a></h2>
<p>Protfuncs are function-strings embedded in a prototype and allows for a builder to create a
prototype with custom logics without having access to Python. The Protfunc is parsed using the
inlinefunc parser but is fired at the moment the spawning happens, using the creating object’s
session as input.</p>
<p>In the prototype dict, the protfunc is specified as a string inside the prototype, e.g.:</p>
<blockquote>
<div><p>{ …</p>
<p>“key”: “$funcname(arg1, arg2, …)”</p>
<p>…  }</p>
</div></blockquote>
<p>and multiple functions can be nested (no keyword args are supported). The result will be used as the
value for that prototype key for that individual spawn.</p>
<p>Available protfuncs are callables in one of the modules of <cite>settings.PROT_FUNC_MODULES</cite>. They
are specified as functions</p>
<blockquote>
<div><p>def funcname (<a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs)</p>
</div></blockquote>
<p>where <a href="#id5"><span class="problematic" id="id6">*</span></a>args are the arguments given in the prototype, and <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs are inserted by Evennia:</p>
<blockquote>
<div><ul class="simple">
<li><p>session (Session): The Session of the entity spawning using this prototype.</p></li>
<li><p>prototype (dict): The dict this protfunc is a part of.</p></li>
<li><p>current_key (str): The active key this value belongs to in the prototype.</p></li>
<li><dl class="simple">
<dt>testing (bool): This is set if this function is called as part of the prototype validation; if</dt><dd><p>set, the protfunc should take care not to perform any persistent actions, such as operate on
objects or add things to the database.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Any traceback raised by this function will be handled at the time of spawning and abort the spawn
before any object is created/updated. It must otherwise return the value to store for the specified
prototype key (this value must be possible to serialize in an Attribute).</p>
<dl class="function">
<dt id="evennia.prototypes.protfuncs._obj_search">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">_obj_search</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#_obj_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs._obj_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to search for an object</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.add">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $add(val1, val2)
Returns the result of val1 + val2. Values must be</p>
<blockquote>
<div><p>valid simple Python structures possible to add,
such as numbers, lists etc.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.base_random">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">base_random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#evennia.prototypes.protfuncs.base_random" title="Permalink to this definition">¶</a></dt>
<dd><p>random() -&gt; x in the interval [0, 1).</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.center_justify">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">center_justify</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#center_justify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.center_justify" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $center_justify(&lt;text&gt;)
Returns &lt;text&gt; centered in screen width.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.choice">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">choice</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#choice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.choice" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $choice(val, val, val, …)
Returns one of the values randomly</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.dbref">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">dbref</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#dbref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.dbref" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage $dbref(&lt;#dbref&gt;)
Validate that a #dbref input is valid.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.div">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">div</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.div" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $div(val1, val2)
Returns the value of val1 / val2. Values must be numbers and</p>
<blockquote>
<div><p>the result is always a float.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.eval">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">eval</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage $eval(&lt;expression&gt;)
Returns evaluation of a simple Python expression. The string may <em>only</em> consist of the following</p>
<blockquote>
<div><p>Python literal structures: strings, numbers, tuples, lists, dicts, booleans,
and None. The strings can also contain #dbrefs. Escape embedded protfuncs as $$protfunc(..)
- those will then be evaluated <em>after</em> $eval.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.full_justify">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">full_justify</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#full_justify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.full_justify" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $full_justify(&lt;text&gt;)
Returns &lt;text&gt; filling up screen width by adding extra space.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.left_justify">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">left_justify</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#left_justify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.left_justify" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $left_justify(&lt;text&gt;)
Returns &lt;text&gt; left-justified.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.mult">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">mult</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#mult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.mult" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $mul(val1, val2)
Returns the value of val1 * val2. The values must be</p>
<blockquote>
<div><p>valid simple Python structures possible to
multiply, like strings and/or numbers.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.obj">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">obj</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage $obj(&lt;query&gt;)
Returns one Object searched globally by key, alias or #dbref. Error if more than one.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.objlist">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">objlist</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#objlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.objlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage $objlist(&lt;query&gt;)
Returns list with one or more Objects searched globally by key, alias or #dbref.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.protkey">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">protkey</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#protkey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.protkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $protkey(&lt;key&gt;)
Returns the value of another key in this prototoype. Will raise an error if</p>
<blockquote>
<div><p>the key is not found in this prototype.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.randint">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">randint</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#randint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.randint" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $randint(start, end)
Returns random integer in interval [start, end]</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.random">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">random</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $random()
Returns a random value in the interval [0, 1)</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.right_justify">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">right_justify</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#right_justify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.right_justify" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $right_justify(&lt;text&gt;)
Returns &lt;text&gt; right-justified across screen width.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.sub">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">sub</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $del(val1, val2)
Returns the value of val1 - val2. Values must be</p>
<blockquote>
<div><p>valid simple Python structures possible to
subtract.</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.protfuncs.toint">
<code class="sig-prename descclassname">evennia.prototypes.protfuncs.</code><code class="sig-name descname">toint</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/protfuncs.html#toint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.protfuncs.toint" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage: $toint(&lt;number&gt;)
Returns &lt;number&gt; as an integer.</p>
</dd></dl>

</div>
<div class="section" id="module-evennia.prototypes.prototypes">
<span id="evennia-prototypes-prototypes-module"></span><h2>evennia.prototypes.prototypes module<a class="headerlink" href="#module-evennia.prototypes.prototypes" title="Permalink to this headline">¶</a></h2>
<p>Handling storage of prototypes, both database-based ones (DBPrototypes) and those defined in modules
(Read-only prototypes). Also contains utility functions, formatters and manager functions.</p>
<dl class="class">
<dt id="evennia.prototypes.prototypes.DbPrototype">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">DbPrototype</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#DbPrototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This stores a single prototype, in an Attribute <cite>prototype</cite>.</p>
<dl class="exception">
<dt id="evennia.prototypes.prototypes.DbPrototype.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.prototypes.prototypes.DbPrototype.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.prototypes.DbPrototype._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for DbPrototype&gt;</em><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.prototypes.DbPrototype.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#DbPrototype.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Only called once, when script is first created.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.prototypes.DbPrototype.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.prototypes.prototypes.DbPrototype'</em><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.prototypes.DbPrototype.prototype">
<em class="property">property </em><code class="sig-name descname">prototype</code><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure to decouple from db!</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.prototypes.DbPrototype.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'DbPrototype'</em><a class="headerlink" href="#evennia.prototypes.prototypes.DbPrototype.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="evennia.prototypes.prototypes.PermissionError">
<em class="property">exception </em><code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">PermissionError</code><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#PermissionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.PermissionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.prototypes.prototypes.ValidationError">
<em class="property">exception </em><code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">ValidationError</code><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#ValidationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.ValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
<p>Raised on prototype validation errors</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.check_permission">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">check_permission</code><span class="sig-paren">(</span><em class="sig-param">prototype_key</em>, <em class="sig-param">action</em>, <em class="sig-param">default=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#check_permission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.check_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to check access to actions on given prototype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype_key</strong> (<em>str</em>) – The prototype to affect.</p></li>
<li><p><strong>action</strong> (<em>str</em>) – One of “spawn” or “edit”.</p></li>
<li><p><strong>default</strong> (<em>str</em>) – If action is unknown or prototype has no locks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If permission for action is granted or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>passes (bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.create_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">create_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em><span class="sig-paren">)</span><a class="headerlink" href="#evennia.prototypes.prototypes.create_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Create/Store a prototype persistently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prototype</strong> (<em>dict</em>) – The prototype to save. A <cite>prototype_key</cite> key is
required.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The prototype stored using the given kwargs, None if deleting.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>prototype (dict or None)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#evennia.prototypes.prototypes.ValidationError" title="evennia.prototypes.prototypes.ValidationError"><strong>prototypes.ValidationError</strong></a> – If prototype does not validate.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No edit/spawn locks will be checked here - if this function is called the caller
is expected to have valid permissions.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.delete_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">delete_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype_key</em>, <em class="sig-param">caller=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#delete_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.delete_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a stored prototype</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The persistent prototype to delete.</p></li>
<li><p><strong>caller</strong> (<em>Account</em><em> or </em><em>Object</em><em>, </em><em>optionsl</em>) – Caller aiming to delete a prototype.
Note that no locks will be checked if`caller` is not passed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If deletion worked or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>success (bool)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#evennia.prototypes.prototypes.PermissionError" title="evennia.prototypes.prototypes.PermissionError"><strong>PermissionError</strong></a> – If ‘edit’ lock was not passed or deletion failed for some other reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.format_available_protfuncs">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">format_available_protfuncs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#format_available_protfuncs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.format_available_protfuncs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all protfuncs in a pretty-formatted form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clr</strong> (<em>str</em><em>, </em><em>optional</em>) – What coloration tag to use.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.homogenize_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">homogenize_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em>, <em class="sig-param">custom_keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#homogenize_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.homogenize_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Homogenize the more free-form prototype supported pre Evennia 0.7 into the stricter form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype</strong> (<em>dict</em>) – Prototype.</p></li>
<li><p><strong>custom_keys</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom keys which should not be interpreted as attrs, beyond
the default reserved keys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Prototype where all non-identified keys grouped as attributes and other</dt><dd><p>homogenizations like adding missing prototype_keys and setting a default typeclass.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>homogenized (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.init_spawn_value">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">init_spawn_value</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">validator=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#init_spawn_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.init_spawn_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze the prototype value and produce a value useful at the point of spawning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>any</em>) – <p>This can be:
callable - will be called as callable()
(callable, (args,)) - will be called as callable(<a href="#id9"><span class="problematic" id="id10">*</span></a>args)
other - will be assigned depending on the variable type
validator (callable, optional): If given, this will be called with the value to</p>
<blockquote>
<div><p>check and guarantee the outcome is of a given type.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The (potentially pre-processed value to use for this prototype key)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any (any)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.list_prototypes">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">list_prototypes</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">key=None</em>, <em class="sig-param">tags=None</em>, <em class="sig-param">show_non_use=False</em>, <em class="sig-param">show_non_edit=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#list_prototypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.list_prototypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Collate a list of found prototypes based on search criteria and access.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller</strong> (<em>Account</em><em> or </em><em>Object</em>) – The object requesting the list.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Exact or partial prototype key to query for.</p></li>
<li><p><strong>tags</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>optional</em>) – Tag key or keys to query for.</p></li>
<li><p><strong>show_non_use</strong> (<em>bool</em><em>, </em><em>optional</em>) – Show also prototypes the caller may not use.</p></li>
<li><p><strong>show_non_edit</strong> (<em>bool</em><em>, </em><em>optional</em>) – Show also prototypes the caller may not edit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>An EvTable representation of the prototypes. None</dt><dd><p>if no prototypes were found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>table (<a class="reference internal" href="evennia.utils.html#evennia.utils.evtable.EvTable" title="evennia.utils.evtable.EvTable">EvTable</a> or None)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.protfunc_parser">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">protfunc_parser</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">available_functions=None</em>, <em class="sig-param">testing=False</em>, <em class="sig-param">stacktrace=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#protfunc_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.protfunc_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a prototype value string for a protfunc and process it.</p>
<p>Available protfuncs are specified as callables in one of the modules of
<cite>settings.PROTFUNC_MODULES</cite>, or specified on the command line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>any</em>) – The value to test for a parseable protfunc. Only strings will be parsed for
protfuncs, all other types are returned as-is.</p></li>
<li><p><strong>available_functions</strong> (<em>dict</em><em>, </em><em>optional</em>) – Mapping of name:protfunction to use for this parsing.
If not set, use default sources.</p></li>
<li><p><strong>testing</strong> (<em>bool</em><em>, </em><em>optional</em>) – Passed to protfunc. If in a testing mode, some protfuncs may
behave differently.</p></li>
<li><p><strong>stacktrace</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set, print the stack parsing process of the protfunc-parser.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>session (Session): Passed to protfunc. Session of the entity spawning the prototype.
protototype (dict): Passed to protfunc. The dict this protfunc is a part of.
current_key(str): Passed to protfunc. The key in the prototype that will hold this value.
any (any): Passed on to the protfunc.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>If <cite>testing</cite> is set, returns a tuple (error, result) where error is</dt><dd><p>either None or a string detailing the error from protfunc_parser or seen when trying to
run <cite>literal_eval</cite> on the parsed string.</p>
</dd>
<dt>any (any): A structure to replace the string on the prototype level. If this is a</dt><dd><p>callable or a (callable, (args,)) structure, it will be executed as if one had supplied
it to the prototype directly. This structure is also passed through literal_eval so one
can get actual Python primitives out of it (not just strings). It will also identify
eventual object #dbrefs in the output from the protfunc.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>testresult (tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.prototype_to_str">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">prototype_to_str</code><span class="sig-paren">(</span><em class="sig-param">prototype</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#prototype_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.prototype_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a prototype to a nice string representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prototype</strong> (<em>dict</em>) – The prototype.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.save_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">save_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#save_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.save_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Create/Store a prototype persistently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prototype</strong> (<em>dict</em>) – The prototype to save. A <cite>prototype_key</cite> key is
required.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The prototype stored using the given kwargs, None if deleting.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>prototype (dict or None)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#evennia.prototypes.prototypes.ValidationError" title="evennia.prototypes.prototypes.ValidationError"><strong>prototypes.ValidationError</strong></a> – If prototype does not validate.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No edit/spawn locks will be checked here - if this function is called the caller
is expected to have valid permissions.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.search_objects_with_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">search_objects_with_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype_key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#search_objects_with_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.search_objects_with_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all object instances created by a given prototype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prototype_key</strong> (<em>str</em>) – The exact (and unique) prototype identifier to query for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All matching objects spawned from this prototype.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matches (Queryset)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.search_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">search_prototype</code><span class="sig-paren">(</span><em class="sig-param">key=None</em>, <em class="sig-param">tags=None</em>, <em class="sig-param">require_single=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#search_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.search_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Find prototypes based on key and/or tags, or all prototypes.</p>
<dl>
<dt>Kwargs:</dt><dd><p>key (str): An exact or partial key to query for.
tags (str or list): Tag key or keys to query for. These</p>
<blockquote>
<div><p>will always be applied with the ‘db_protototype’
tag category.</p>
</div></blockquote>
<dl class="simple">
<dt>require_single (bool): If set, raise KeyError if the result</dt><dd><p>was not found or if there are multiple matches.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>All found prototype dicts. Empty list if</dt><dd><p>no match was found. Note that if neither <cite>key</cite> nor <cite>tags</cite>
were given, <em>all</em> available prototypes will be returned.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>matches (list)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If <cite>require_single</cite> is True and there are 0 or &gt;1 matches.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The available prototypes is a combination of those supplied in
PROTOTYPE_MODULES and those stored in the database. Note that if
tags are given and the prototype has no tags defined, it will not
be found as a match.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.validate_prototype">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">validate_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em>, <em class="sig-param">protkey=None</em>, <em class="sig-param">protparents=None</em>, <em class="sig-param">is_prototype_base=True</em>, <em class="sig-param">strict=True</em>, <em class="sig-param">_flags=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#validate_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.validate_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Run validation on a prototype, checking for inifinite regress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype</strong> (<em>dict</em>) – Prototype to validate.</p></li>
<li><p><strong>protkey</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the prototype definition. If not given, the prototype
dict needs to have the <cite>prototype_key</cite> field set.</p></li>
<li><p><strong>protpartents</strong> (<em>dict</em><em>, </em><em>optional</em>) – The available prototype parent library. If
note given this will be determined from settings/database.</p></li>
<li><p><strong>is_prototype_base</strong> (<em>bool</em><em>, </em><em>optional</em>) – We are trying to create a new object <em>based on this
object</em>. This means we can’t allow ‘mixin’-style prototypes without typeclass/parent
etc.</p></li>
<li><p><strong>strict</strong> (<em>bool</em><em>, </em><em>optional</em>) – If unset, don’t require needed keys, only check against infinite
recursion etc.</p></li>
<li><p><strong>_flags</strong> (<em>dict</em><em>, </em><em>optional</em>) – Internal work dict that should not be set externally.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RuntimeError</strong> – If prototype has invalid structure.</p></li>
<li><p><strong>RuntimeWarning</strong> – If prototype has issues that would make it unsuitable to build an object
    with (it may still be useful as a mix-in prototype).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.value_to_obj">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">value_to_obj</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">force=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#value_to_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.value_to_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Always convert value(s) to Object, or None</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.prototypes.value_to_obj_or_any">
<code class="sig-prename descclassname">evennia.prototypes.prototypes.</code><code class="sig-name descname">value_to_obj_or_any</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/prototypes.html#value_to_obj_or_any"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.prototypes.value_to_obj_or_any" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert value(s) to Object if possible, otherwise keep original value</p>
</dd></dl>

</div>
<div class="section" id="module-evennia.prototypes.spawner">
<span id="evennia-prototypes-spawner-module"></span><h2>evennia.prototypes.spawner module<a class="headerlink" href="#module-evennia.prototypes.spawner" title="Permalink to this headline">¶</a></h2>
<p>Spawner</p>
<p>The spawner takes input files containing object definitions in
dictionary forms. These use a prototype architecture to define
unique objects without having to make a Typeclass for each.</p>
<p>There  main function is <cite>spawn(*prototype)</cite>, where the <cite>prototype</cite>
is a dictionary like this:</p>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a>python
from evennia.prototypes import prototypes</p>
<dl class="simple">
<dt>prot = {</dt><dd><p>“prototype_key”: “goblin”,
“typeclass”: “types.objects.Monster”,
“key”: “goblin grunt”,
“health”: lambda: randint(20,30),
“resists”: [“cold”, “poison”],
“attacks”: [“fists”],
“weaknesses”: [“fire”, “light”]
“tags”: [“mob”, “evil”, (‘greenskin’,’mob’)]
“attrs”: [(“weapon”, “sword”)]</p>
</dd>
</dl>
<p>}</p>
<p>prot = prototypes.create_prototype(prot)</p>
<p><a href="#id15"><span class="problematic" id="id16">``</span></a><a href="#id17"><span class="problematic" id="id18">`</span></a></p>
<dl>
<dt>Possible keywords are:</dt><dd><dl class="simple">
<dt>prototype_key (str):  name of this prototype. This is used when storing prototypes and should</dt><dd><p>be unique. This should always be defined but for prototypes defined in modules, the
variable holding the prototype dict will become the prototype_key if it’s not explicitly
given.</p>
</dd>
</dl>
<p>prototype_desc (str, optional): describes prototype in listings
prototype_locks (str, optional): locks for restricting access to this prototype. Locktypes</p>
<blockquote>
<div><p>supported are ‘edit’ and ‘use’.</p>
</div></blockquote>
<dl class="simple">
<dt>prototype_tags(list, optional): List of tags or tuples (tag, category) used to group prototype</dt><dd><p>in listings</p>
</dd>
<dt>prototype_parent (str, tuple or callable, optional): name (prototype_key) of eventual parent prototype, or</dt><dd><p>a list of parents, for multiple left-to-right inheritance.</p>
</dd>
</dl>
<p>prototype: Deprecated. Same meaning as ‘parent’.</p>
<dl class="simple">
<dt>typeclass (str or callable, optional): if not set, will use typeclass of parent prototype or use</dt><dd><p><cite>settings.BASE_OBJECT_TYPECLASS</cite></p>
</dd>
<dt>key (str or callable, optional): the name of the spawned object. If not given this will set to a</dt><dd><p>random hash</p>
</dd>
</dl>
<p>location (obj, str or callable, optional): location of the object - a valid object or #dbref
home (obj, str or callable, optional): valid object or #dbref
destination (obj, str or callable, optional): only valid for exits (object or #dbref)</p>
<p>permissions (str, list or callable, optional): which permissions for spawned object to have
locks (str or callable, optional): lock-string for the spawned object
aliases (str, list or callable, optional): Aliases for the spawned object
exec (str or callable, optional): this is a string of python code to execute or a list of such</p>
<blockquote>
<div><p>codes.  This can be used e.g. to trigger custom handlers on the object. The execution
namespace contains ‘evennia’ for the library and ‘obj’. All default spawn commands limit
this functionality to Developer/superusers. Usually it’s better to use callables or
prototypefuncs instead of this.</p>
</div></blockquote>
<dl class="simple">
<dt>tags (str, tuple, list or callable, optional): string or list of strings or tuples</dt><dd><p><cite>(tagstr, category)</cite>. Plain strings will be result in tags with no category (default tags).</p>
</dd>
<dt>attrs (tuple, list or callable, optional): tuple or list of tuples of Attributes to add. This</dt><dd><p>form allows more complex Attributes to be set. Tuples at least specify <cite>(key, value)</cite>
but can also specify up to <cite>(key, value, category, lockstring)</cite>. If you want to specify a
lockstring but not a category, set the category to <cite>None</cite>.</p>
</dd>
</dl>
<p>ndb_&lt;name&gt; (any): value of a nattribute (<a href="#id29"><span class="problematic" id="id30">ndb_</span></a> is stripped) - this is of limited use.
other (any): any other name is interpreted as the key of an Attribute with</p>
<blockquote>
<div><p>its value. Such Attributes have no categories.</p>
</div></blockquote>
</dd>
</dl>
<p>Each value can also be a callable that takes no arguments. It should
return the value to enter into the field and will be called every time
the prototype is used to spawn an object. Note, if you want to store
a callable in an Attribute, embed it in a tuple to the <cite>args</cite> keyword.</p>
<p>By specifying the “prototype_parent” key, the prototype becomes a child of
the given prototype, inheritng all prototype slots it does not explicitly
define itself, while overloading those that it does specify.</p>
<p><a href="#id19"><span class="problematic" id="id20">``</span></a><a href="#id21"><span class="problematic" id="id22">`</span></a>python
import random</p>
<dl class="simple">
<dt>{</dt><dd><p>“prototype_key”: “goblin_wizard”,
“prototype_parent”: GOBLIN,
“key”: “goblin wizard”,
“spells”: [“fire ball”, “lighting bolt”]
}</p>
</dd>
<dt>GOBLIN_ARCHER = {</dt><dd><p>“prototype_parent”: GOBLIN,
“key”: “goblin archer”,
“attack_skill”: (random, (5, 10))”
“attacks”: [“short bow”]</p>
</dd>
</dl>
<div class="section" id="id23">
<h3>}<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>One can also have multiple prototypes. These are inherited from the
left, with the ones further to the right taking precedence.</p>
<p><a href="#id24"><span class="problematic" id="id25">``</span></a><a href="#id26"><span class="problematic" id="id27">`</span></a>python
ARCHWIZARD = {</p>
<blockquote>
<div><p>“attack”: [“archwizard staff”, “eye of doom”]</p>
</div></blockquote>
<dl class="simple">
<dt>GOBLIN_ARCHWIZARD = {</dt><dd><p>“key” : “goblin archwizard”
“prototype_parent”: (GOBLIN_WIZARD, ARCHWIZARD),</p>
</dd>
</dl>
</div>
<div class="section" id="id28">
<h3>}<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>The <em>goblin archwizard</em> will have some different attacks, but will
otherwise have the same spells as a <em>goblin wizard</em> who in turn shares
many traits with a normal <em>goblin</em>.</p>
<p>Storage mechanism:</p>
<p>This sets up a central storage for prototypes. The idea is to make these
available in a repository for buildiers to use. Each prototype is stored
in a Script so that it can be tagged for quick sorting/finding and locked for limiting
access.</p>
<p>This system also takes into consideration prototypes defined and stored in modules.
Such prototypes are considered ‘read-only’ to the system and can only be modified
in code. To replace a default prototype, add the same-name prototype in a
custom module read later in the settings.PROTOTYPE_MODULES list. To remove a default
prototype, override its name with an empty dict.</p>
<dl class="class">
<dt id="evennia.prototypes.spawner.Unset">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">Unset</code><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#Unset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.Unset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class representing a non-set diff element.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner._get_prototype">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">_get_prototype</code><span class="sig-paren">(</span><em class="sig-param">inprot</em>, <em class="sig-param">protparents</em>, <em class="sig-param">uninherited=None</em>, <em class="sig-param">_workprot=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#_get_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner._get_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively traverse a prototype dictionary, including multiple
inheritance. Use validate_prototype before this, we don’t check
for infinite recursion here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inprot</strong> (<em>dict</em>) – Prototype dict (the individual prototype, with no inheritance included).</p></li>
<li><p><strong>protparents</strong> (<em>dict</em>) – Available protparents, keyed by prototype_key.</p></li>
<li><p><strong>uninherited</strong> (<em>dict</em>) – Parts of prototype to not inherit.</p></li>
<li><p><strong>_workprot</strong> (<em>dict</em><em>, </em><em>optional</em>) – Work dict for the recursive algorithm.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A prototype where parent’s have been merged as needed (the</dt><dd><p><cite>prototype_parent</cite> key is removed).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>merged (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.batch_create_object">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">batch_create_object</code><span class="sig-paren">(</span><em class="sig-param">*objparams</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#batch_create_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.batch_create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a cut-down version of the create_object() function,
optimized for speed. It does NOT check and convert various input
so make sure the spawned Typeclass works before using this!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>objsparams</strong> (<em>tuple</em>) – <p>Each paremter tuple will create one object instance using the parameters
within.
The parameters should be given in the following order:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>create_kwargs</cite> (dict): For use as new_obj = <cite>ObjectDB(**create_kwargs)</cite>.</p></li>
<li><p><cite>permissions</cite> (str): Permission string used with <cite>new_obj.batch_add(permission)</cite>.</p></li>
<li><p><cite>lockstring</cite> (str): Lockstring used with <cite>new_obj.locks.add(lockstring)</cite>.</p></li>
<li><dl class="simple">
<dt><cite>aliases</cite> (list): A list of alias strings for</dt><dd><p>adding with <cite>new_object.aliases.batch_add(*aliases)</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>nattributes</cite> (list): list of tuples <cite>(key, value)</cite> to be loop-added to</dt><dd><p>add with <cite>new_obj.nattributes.add(*tuple)</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>attributes</cite> (list): list of tuples <cite>(key, value[,category[,lockstring]])</cite> for</dt><dd><p>adding with <cite>new_obj.attributes.batch_add(*attributes)</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>tags</cite> (list): list of tuples <cite>(key, category)</cite> for adding</dt><dd><p>with <cite>new_obj.tags.batch_add(*tags)</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>execs</cite> (list): Code strings to execute together with the creation</dt><dd><dl class="simple">
<dt>of each object. They will be executed with <cite>evennia</cite> and <cite>obj</cite></dt><dd><p>(the newly created object) available in the namespace. Execution
will happend after all other properties have been assigned and
is intended for calling custom handlers etc.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of created objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>objects (list)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>exec</cite> list will execute arbitrary python code so don’t allow this to be available to
unprivileged users!</p>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.batch_update_objects_with_prototype">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">batch_update_objects_with_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em>, <em class="sig-param">diff=None</em>, <em class="sig-param">objects=None</em>, <em class="sig-param">exact=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#batch_update_objects_with_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.batch_update_objects_with_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Update existing objects with the latest version of the prototype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype</strong> (<em>str</em><em> or </em><em>dict</em>) – Either the <cite>prototype_key</cite> to use or the
prototype dict itself.</p></li>
<li><p><strong>diff</strong> (<em>dict</em><em>, </em><em>optional</em>) – This a diff structure that describes how to update the protototype.
If not given this will be constructed from the first object found.</p></li>
<li><p><strong>objects</strong> (<em>list</em><em>, </em><em>optional</em>) – List of objects to update. If not given, query for these
objects using the prototype’s <cite>prototype_key</cite>.</p></li>
<li><p><strong>exact</strong> (<em>bool</em><em>, </em><em>optional</em>) – By default (<cite>False</cite>), keys not explicitly in the prototype will
not be applied to the object, but will be retained as-is. This is usually what is
expected - for example, one usually do not want to remove the object’s location even
if it’s not set in the prototype. With <cite>exact=True</cite>, all un-specified properties of the
objects will be removed if they exist. This will lead to a more accurate 1:1 correlation
between the  object and the prototype but is usually impractical.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The number of objects that had changes applied to them.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>changed (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.flatten_diff">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">flatten_diff</code><span class="sig-paren">(</span><em class="sig-param">diff</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#flatten_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.flatten_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>For spawning, a ‘detailed’ diff is not necessary, rather we just want instructions on how to
handle each root key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>diff</strong> (<em>dict</em>) – Diff produced by <cite>prototype_diff</cite> and
possibly modified by the user. Note that also a pre-flattened diff will come out
unchanged by this function.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A flat structure detailing how to operate on each</dt><dd><p>root component of the prototype.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>flattened_diff (dict)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl class="simple">
<dt>The flattened diff has the following possible instructions:</dt><dd><p>UPDATE, REPLACE, REMOVE</p>
</dd>
</dl>
<p>Many of the detailed diff’s values can hold nested structures with their own
individual instructions. A detailed diff can have the following instructions:</p>
<blockquote>
<div><p>REMOVE, ADD, UPDATE, KEEP</p>
</div></blockquote>
<dl class="simple">
<dt>Here’s how they are translated:</dt><dd><ul class="simple">
<li><p>All REMOVE -&gt; REMOVE</p></li>
<li><p>All ADD|UPDATE -&gt; UPDATE</p></li>
<li><p>All KEEP -&gt; KEEP</p></li>
<li><p>Mix KEEP, UPDATE, ADD -&gt; UPDATE</p></li>
<li><p>Mix REMOVE, KEEP, UPDATE, ADD -&gt; REPLACE</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.flatten_prototype">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">flatten_prototype</code><span class="sig-paren">(</span><em class="sig-param">prototype</em>, <em class="sig-param">validate=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#flatten_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.flatten_prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a ‘flattened’ prototype, where all prototype parents in the inheritance tree have been
merged into a final prototype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype</strong> (<em>dict</em>) – Prototype to flatten. Its <cite>prototype_parent</cite> field will be parsed.</p></li>
<li><p><strong>validate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Validate for valid keys etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The final, flattened prototype.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>flattened (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.format_diff">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">format_diff</code><span class="sig-paren">(</span><em class="sig-param">diff</em>, <em class="sig-param">minimal=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#format_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.format_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Reformat a diff for presentation. This is a shortened version
of the olc _format_diff_text_and_options without the options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diff</strong> (<em>dict</em>) – A diff as produced by <cite>prototype_diff</cite>.</p></li>
<li><p><strong>minimal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Only show changes (remove KEEPs)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formatted text.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>texts (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.prototype_diff">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">prototype_diff</code><span class="sig-paren">(</span><em class="sig-param">prototype1</em>, <em class="sig-param">prototype2</em>, <em class="sig-param">maxdepth=2</em>, <em class="sig-param">homogenize=False</em>, <em class="sig-param">implicit_keep=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#prototype_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.prototype_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>A ‘detailed’ diff specifies differences down to individual sub-sections
of the prototype, like individual attributes, permissions etc. It is used
by the menu to allow a user to customize what should be kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype1</strong> (<em>dict</em>) – Original prototype.</p></li>
<li><p><strong>prototype2</strong> (<em>dict</em>) – Comparison prototype.</p></li>
<li><p><strong>maxdepth</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum depth into the diff we go before treating the elements
of iterables as individual entities to compare. This is important since a single
attr/tag (for example) are represented by a tuple.</p></li>
<li><p><strong>homogenize</strong> (<em>bool</em><em>, </em><em>optional</em>) – Auto-homogenize both prototypes for the best comparison.
This is most useful for displaying.</p></li>
<li><p><strong>implicit_keep</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set, the resulting diff will assume KEEP unless the new
prototype explicitly change them. That is, if a key exists in <cite>prototype1</cite> and
not in <cite>prototype2</cite>, it will not be REMOVEd but set to KEEP instead. This is particularly
useful for auto-generated prototypes when updating objects.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A structure detailing how to convert prototype1 to prototype2. All</dt><dd><p>nested structures are dicts with keys matching either the prototype’s matching
key or the first element in the tuple describing the prototype value (so for
a tag tuple <cite>(tagname, category)</cite> the second-level key in the diff would be tagname).
The the bottom level of the diff consist of tuples <cite>(old, new, instruction)</cite>, where
instruction can be one of “REMOVE”, “ADD”, “UPDATE” or “KEEP”.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>diff (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.prototype_diff_from_object">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">prototype_diff_from_object</code><span class="sig-paren">(</span><em class="sig-param">prototype</em>, <em class="sig-param">obj</em>, <em class="sig-param">implicit_keep=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#prototype_diff_from_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.prototype_diff_from_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a simple diff for a prototype compared to an object which may or may not already have a
prototype (or has one but changed locally). For more complex migratations a manual diff may be
needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prototype</strong> (<em>dict</em>) – New prototype.</p></li>
<li><p><strong>obj</strong> (<em>Object</em>) – Object to compare prototype against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Mapping for every prototype key: {“keyname”: “REMOVE|UPDATE|KEEP”, …}
obj_prototype (dict): The prototype calculated for the given object. The diff is how to</p>
<blockquote>
<div><p>convert this prototype into the new prototype.</p>
</div></blockquote>
<dl class="simple">
<dt>implicit_keep (bool, optional): This is usually what one wants for object updating. When</dt><dd><p>set, this means the prototype diff will assume KEEP on differences
between the object-generated prototype and that which is not explicitly set in the
new prototype. This means e.g. that even though the object has a location, and the
prototype does not specify the location, it will not be unset.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>diff (dict)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>diff</cite> is on the following form:</p>
<blockquote>
<div><dl>
<dt>{“key”: (old, new, “KEEP|REPLACE|UPDATE|REMOVE”),</dt><dd><dl class="simple">
<dt>“attrs”: {“attrkey”: (old, new, “KEEP|REPLACE|UPDATE|REMOVE”),</dt><dd><p>“attrkey”: (old, new, “KEEP|REPLACE|UPDATE|REMOVE”), …},</p>
</dd>
</dl>
<p>“aliases”: {“aliasname”: (old, new, “KEEP…”, …},
… }</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.prototype_from_object">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">prototype_from_object</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#prototype_from_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.prototype_from_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess a minimal prototype from an existing object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>Object</em>) – An object to analyze.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A prototype estimating the current state of the object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>prototype (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.prototypes.spawner.spawn">
<code class="sig-prename descclassname">evennia.prototypes.spawner.</code><code class="sig-name descname">spawn</code><span class="sig-paren">(</span><em class="sig-param">*prototypes</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/spawner.html#spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.spawner.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a number of prototyped objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prototypes</strong> (<em>str</em><em> or </em><em>dict</em>) – Each argument should either be a
prototype_key (will be used to find the prototype) or a full prototype
dictionary. These will be batched-spawned as one object each.</p>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><dl class="simple">
<dt>prototype_modules (str or list): A python-path to a prototype</dt><dd><p>module, or a list of such paths. These will be used to build
the global protparents dictionary accessible by the input
prototypes. If not given, it will instead look for modules
defined by settings.PROTOTYPE_MODULES.</p>
</dd>
<dt>prototype_parents (dict): A dictionary holding a custom</dt><dd><p>prototype-parent dictionary. Will overload same-named
prototypes from prototype_modules.</p>
</dd>
<dt>return_parents (bool): Return a dict of the entire prototype-parent tree</dt><dd><p>available to this prototype (no object creation happens). This is a
merged result between the globally found protparents and whatever
custom <cite>prototype_parents</cite> are given to this function.</p>
</dd>
<dt>only_validate (bool): Only run validation of prototype/parents</dt><dd><p>(no object creation) and return the create-kwargs.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Spawned object(s). If <cite>only_validate</cite> is given, return</dt><dd><p>a list of the creation kwargs to build the object(s) without actually creating it. If
<cite>return_parents</cite> is set, instead return dict of prototype parents.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>object (Object, dict or list)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="module-evennia.prototypes.tests">
<span id="evennia-prototypes-tests-module"></span><h2>evennia.prototypes.tests module<a class="headerlink" href="#module-evennia.prototypes.tests" title="Permalink to this headline">¶</a></h2>
<p>Unit tests for the prototypes and spawner</p>
<dl class="class">
<dt id="evennia.prototypes.tests.TestMenuModule">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestMenuModule</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestMenuModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestMenuModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="attribute">
<dt id="evennia.prototypes.tests.TestMenuModule.maxDiff">
<code class="sig-name descname">maxDiff</code><em class="property"> = None</em><a class="headerlink" href="#evennia.prototypes.tests.TestMenuModule.maxDiff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestMenuModule.setUp">
<code class="sig-name descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestMenuModule.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestMenuModule.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up testing environment</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestMenuModule.test_helpers">
<code class="sig-name descname">test_helpers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestMenuModule.test_helpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestMenuModule.test_helpers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestMenuModule.test_node_helpers">
<code class="sig-name descname">test_node_helpers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestMenuModule.test_node_helpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestMenuModule.test_node_helpers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestOLCMenu">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestOLCMenu</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestOLCMenu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.tests.html#evennia.utils.tests.test_evmenu.TestEvMenu" title="evennia.utils.tests.test_evmenu.TestEvMenu"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.tests.test_evmenu.TestEvMenu</span></code></a></p>
<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.expect_all_nodes">
<code class="sig-name descname">expect_all_nodes</code><em class="property"> = True</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.expect_all_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.expected_node_texts">
<code class="sig-name descname">expected_node_texts</code><em class="property"> = {'node_index': '|c --- Prototype wizard --- |n'}</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.expected_node_texts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.expected_tree">
<code class="sig-name descname">expected_tree</code><em class="property"> = ['node_index', ['node_prototype_key', ['node_index', 'node_index', 'node_index', 'node_validate_prototype', ['node_index', 'node_index', 'node_index'], 'node_index'], 'node_prototype_parent', ['node_prototype_parent', 'node_prototype_key', 'node_prototype_parent', 'node_index', 'node_validate_prototype', 'node_index'], 'node_typeclass', ['node_typeclass', 'node_prototype_parent', 'node_typeclass', 'node_index', 'node_validate_prototype', 'node_index'], 'node_key', ['node_typeclass', 'node_key', 'node_index', 'node_validate_prototype', 'node_index'], 'node_aliases', ['node_key', 'node_aliases', 'node_index', 'node_validate_prototype', 'node_index'], 'node_attrs', ['node_aliases', 'node_attrs', 'node_index', 'node_validate_prototype', 'node_index'], 'node_tags', ['node_attrs', 'node_tags', 'node_index', 'node_validate_prototype', 'node_index'], 'node_locks', ['node_tags', 'node_locks', 'node_index', 'node_validate_prototype', 'node_index'], 'node_permissions', ['node_locks', 'node_permissions', 'node_index', 'node_validate_prototype', 'node_index'], 'node_location', ['node_permissions', 'node_location', 'node_index', 'node_validate_prototype', 'node_index', 'node_index'], 'node_home', ['node_location', 'node_home', 'node_index', 'node_validate_prototype', 'node_index', 'node_index'], 'node_destination', ['node_home', 'node_destination', 'node_index', 'node_validate_prototype', 'node_index', 'node_index'], 'node_prototype_desc', ['node_prototype_key', 'node_prototype_parent', 'node_index', 'node_validate_prototype', 'node_index'], 'node_prototype_tags', ['node_prototype_desc', 'node_prototype_tags', 'node_index', 'node_validate_prototype', 'node_index'], 'node_prototype_locks', ['node_prototype_tags', 'node_prototype_locks', 'node_index', 'node_validate_prototype', 'node_index'], 'node_validate_prototype', 'node_index', 'node_prototype_spawn', ['node_index', 'node_index', 'node_validate_prototype'], 'node_index', 'node_search_object', ['node_index', 'node_index', 'node_index']]]</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.expected_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.maxDiff">
<code class="sig-name descname">maxDiff</code><em class="property"> = None</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.maxDiff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.menutree">
<code class="sig-name descname">menutree</code><em class="property"> = 'evennia.prototypes.menus'</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.menutree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.prototypes.tests.TestOLCMenu.startnode">
<code class="sig-name descname">startnode</code><em class="property"> = 'node_index'</em><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.startnode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestOLCMenu.test_menu_structure">
<code class="sig-name descname">test_menu_structure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#evennia.prototypes.tests.TestOLCMenu.test_menu_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestProtFuncs">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestProtFuncs</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtFuncs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtFuncs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="attribute">
<dt id="evennia.prototypes.tests.TestProtFuncs._overridden_settings">
<code class="sig-name descname">_overridden_settings</code><em class="property"> = {'CLIENT_DEFAULT_WIDTH': 20, 'PROT_FUNC_MODULES': ['evennia.prototypes.protfuncs']}</em><a class="headerlink" href="#evennia.prototypes.tests.TestProtFuncs._overridden_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtFuncs.setUp">
<code class="sig-name descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtFuncs.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtFuncs.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up testing environment</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtFuncs.test_protfuncs">
<code class="sig-name descname">test_protfuncs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtFuncs.test_protfuncs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtFuncs.test_protfuncs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestProtLib">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestProtLib</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="method">
<dt id="evennia.prototypes.tests.TestProtLib.setUp">
<code class="sig-name descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up testing environment</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtLib.test_check_permission">
<code class="sig-name descname">test_check_permission</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib.test_check_permission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib.test_check_permission" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtLib.test_prototype_to_str">
<code class="sig-name descname">test_prototype_to_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib.test_prototype_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib.test_prototype_to_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtLib.test_save_prototype">
<code class="sig-name descname">test_save_prototype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib.test_save_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib.test_save_prototype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestProtLib.test_search_prototype">
<code class="sig-name descname">test_search_prototype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestProtLib.test_search_prototype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestProtLib.test_search_prototype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestPrototypeStorage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestPrototypeStorage</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestPrototypeStorage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestPrototypeStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="method">
<dt id="evennia.prototypes.tests.TestPrototypeStorage.setUp">
<code class="sig-name descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestPrototypeStorage.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestPrototypeStorage.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up testing environment</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestPrototypeStorage.test_prototype_storage">
<code class="sig-name descname">test_prototype_storage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestPrototypeStorage.test_prototype_storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestPrototypeStorage.test_prototype_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestSpawner">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestSpawner</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestSpawner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestSpawner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="method">
<dt id="evennia.prototypes.tests.TestSpawner.setUp">
<code class="sig-name descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestSpawner.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestSpawner.setUp" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up testing environment</p>
</dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestSpawner.test_spawn_from_prot">
<code class="sig-name descname">test_spawn_from_prot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestSpawner.test_spawn_from_prot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestSpawner.test_spawn_from_prot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestSpawner.test_spawn_from_str">
<code class="sig-name descname">test_spawn_from_str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestSpawner.test_spawn_from_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestSpawner.test_spawn_from_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests.TestUtils">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">TestUtils</code><span class="sig-paren">(</span><em class="sig-param">methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestUtils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestUtils" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.utils.html#evennia.utils.test_resources.EvenniaTest" title="evennia.utils.test_resources.EvenniaTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.utils.test_resources.EvenniaTest</span></code></a></p>
<dl class="method">
<dt id="evennia.prototypes.tests.TestUtils.test_prototype_from_object">
<code class="sig-name descname">test_prototype_from_object</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestUtils.test_prototype_from_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestUtils.test_prototype_from_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.prototypes.tests.TestUtils.test_update_objects_from_prototypes">
<code class="sig-name descname">test_update_objects_from_prototypes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#TestUtils.test_update_objects_from_prototypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests.TestUtils.test_update_objects_from_prototypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.prototypes.tests._MockMenu">
<em class="property">class </em><code class="sig-prename descclassname">evennia.prototypes.tests.</code><code class="sig-name descname">_MockMenu</code><a class="reference internal" href="../_modules/evennia/prototypes/tests.html#_MockMenu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.prototypes.tests._MockMenu" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<p><h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">evennia.prototypes package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-evennia.prototypes.menus">evennia.prototypes.menus module</a></li>
<li><a class="reference internal" href="#module-evennia.prototypes.protfuncs">evennia.prototypes.protfuncs module</a></li>
<li><a class="reference internal" href="#module-evennia.prototypes.prototypes">evennia.prototypes.prototypes module</a></li>
<li><a class="reference internal" href="#module-evennia.prototypes.spawner">evennia.prototypes.spawner module</a><ul>
<li><a class="reference internal" href="#id23">}</a></li>
<li><a class="reference internal" href="#id28">}</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-evennia.prototypes.tests">evennia.prototypes.tests module</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <!--h3>This Page</h3-->
    <ul class="this-page-menu">
      <li><a href="../_sources/api/evennia.prototypes.rst.txt"
            rel="nofollow">Show Page Source</a></li>
    </ul>
   </div>
<h3>Versions</h3>
<ul>
  <li><a href="../../1.0-dev/api/evennia.prototypes.html">1.0-dev (develop branch)</a></li>
  <li><a href="evennia.prototypes.html">0.9.1 (master branch)</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, The Evennia developer community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/evennia.prototypes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>