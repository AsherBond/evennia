

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>evennia.contrib.turnbattle package &mdash; Evennia 0.9.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Evennia 0.9.1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Evennia
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">evennia.contrib.turnbattle package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-evennia.contrib.turnbattle.tb_basic">evennia.contrib.turnbattle.tb_basic module</a></li>
<li><a class="reference internal" href="#module-evennia.contrib.turnbattle.tb_equip">evennia.contrib.turnbattle.tb_equip module</a></li>
<li><a class="reference internal" href="#module-evennia.contrib.turnbattle.tb_items">evennia.contrib.turnbattle.tb_items module</a></li>
<li><a class="reference internal" href="#module-evennia.contrib.turnbattle.tb_magic">evennia.contrib.turnbattle.tb_magic module</a></li>
<li><a class="reference internal" href="#module-evennia.contrib.turnbattle.tb_range">evennia.contrib.turnbattle.tb_range module</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Evennia</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>evennia.contrib.turnbattle package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/evennia.contrib.turnbattle.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-evennia.contrib.turnbattle">
<span id="evennia-contrib-turnbattle-package"></span><h1>evennia.contrib.turnbattle package<a class="headerlink" href="#module-evennia.contrib.turnbattle" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-evennia.contrib.turnbattle.tb_basic">
<span id="evennia-contrib-turnbattle-tb-basic-module"></span><h2>evennia.contrib.turnbattle.tb_basic module<a class="headerlink" href="#module-evennia.contrib.turnbattle.tb_basic" title="Permalink to this headline">¶</a></h2>
<p>Simple turn-based combat system</p>
<p>Contrib - Tim Ashley Jenkins 2017</p>
<p>This is a framework for a simple turn-based combat system, similar
to those used in D&amp;D-style tabletop role playing games. It allows
any character to start a fight in a room, at which point initiative
is rolled and a turn order is established. Each participant in combat
has a limited time to decide their action for that turn (30 seconds by
default), and combat progresses through the turn order, looping through
the participants until the fight ends.</p>
<p>Only simple rolls for attacking are implemented here, but this system
is easily extensible and can be used as the foundation for implementing
the rules from your turn-based tabletop game of choice or making your
own battle system.</p>
<p>To install and test, import this module’s TBBasicCharacter object into
your game’s character.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_basic import TBBasicCharacter</p>
</div></blockquote>
<p>And change your game’s character typeclass to inherit from TBBasicCharacter
instead of the default:</p>
<blockquote>
<div><p>class Character(TBBasicCharacter):</p>
</div></blockquote>
<p>Next, import this module into your default_cmdsets.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle import tb_basic</p>
</div></blockquote>
<p>And add the battle command set to your default command set:</p>
<blockquote>
<div><p>#
# any commands you add below will overload the default ones.
#
self.add(tb_basic.BattleCmdSet())</p>
</div></blockquote>
<p>This module is meant to be heavily expanded on, so you may want to copy it
to your game’s ‘world’ folder and modify it there rather than importing it
in your game and using it as-is.</p>
<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_basic.ACTIONS_PER_TURN">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">ACTIONS_PER_TURN</code><em class="property"> = 1</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.ACTIONS_PER_TURN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.BattleCmdSet">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">BattleCmdSet</code><span class="sig-paren">(</span><em class="sig-param">cmdsetobj=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#BattleCmdSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.BattleCmdSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.cmdset_character.CharacterCmdSet" title="evennia.commands.default.cmdset_character.CharacterCmdSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.cmdset_character.CharacterCmdSet</span></code></a></p>
<p>This command set includes all the commmands used in the battle system.</p>
<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.BattleCmdSet.at_cmdset_creation">
<code class="sig-name descname">at_cmdset_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#BattleCmdSet.at_cmdset_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.BattleCmdSet.at_cmdset_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the cmdset</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.BattleCmdSet.key">
<code class="sig-name descname">key</code><em class="property"> = 'DefaultCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.BattleCmdSet.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.BattleCmdSet.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_basic.BattleCmdSet'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.BattleCmdSet.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdAttack</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdAttack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>attack &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may attack another character. The attack has
a chance to hit, and if successful, will deal damage.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('attack',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'attack'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdAttack.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.key">
<code class="sig-name descname">key</code><em class="property"> = 'attack'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdAttack.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'attack', 'tags': '', 'text': '\n    Attacks another character.\n\n    Usage:\n      attack &lt;target&gt;\n\n    When in a fight, you may attack another character. The attack has\n    a chance to hit, and if successful, will deal damage.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdAttack.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdCombatHelp</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdCombatHelp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.help.CmdHelp" title="evennia.commands.default.help.CmdHelp"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.help.CmdHelp</span></code></a></p>
<p>View help or a list of topics</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>help &lt;topic or command&gt;
help list
help all</p>
</dd>
</dl>
<p>This will search for help on commands and other
topics related to the game.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('help', '?')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'?', 'help'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['?']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdCombatHelp.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.func" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the dynamic help entry creator.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'general'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.key">
<code class="sig-name descname">key</code><em class="property"> = 'help'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all()'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '?', 'category': 'general', 'key': 'help', 'tags': '', 'text': '\n    View help or a list of topics\n\n    Usage:\n      help &lt;topic or command&gt;\n      help list\n      help all\n\n    This will search for help on commands and other\n    topics related to the game.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdCombatHelp.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdDisengage</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdDisengage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes your turn and attempts to end combat.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>disengage</p>
</dd>
</dl>
<p>Ends your turn early and signals that you’re trying to end
the fight. If all participants in a fight disengage, the
fight ends.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('disengage', 'spare')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'disengage', 'spare'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['spare']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdDisengage.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.key">
<code class="sig-name descname">key</code><em class="property"> = 'disengage'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdDisengage.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'spare', 'category': 'combat', 'key': 'disengage', 'tags': '', 'text': &quot;\n    Passes your turn and attempts to end combat.\n\n    Usage:\n      disengage\n\n    Ends your turn early and signals that you're trying to end\n    the fight. If all participants in a fight disengage, the\n    fight ends.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdDisengage.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdFight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Starts a fight with everyone in the same room as you.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>fight</p>
</dd>
</dl>
<p>When you start a fight, everyone in the room who is able to
fight is added to combat, and a turn order is randomly rolled.
When it’s your turn, you can attack other characters.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('fight',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'fight'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdFight.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.key">
<code class="sig-name descname">key</code><em class="property"> = 'fight'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdFight.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'fight', 'tags': '', 'text': &quot;\n    Starts a fight with everyone in the same room as you.\n\n    Usage:\n      fight\n\n    When you start a fight, everyone in the room who is able to\n    fight is added to combat, and a turn order is randomly rolled.\n    When it's your turn, you can attack other characters.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdFight.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdPass</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes on your turn.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>pass</p>
</dd>
</dl>
<p>When in a fight, you can use this command to end your turn early, even
if there are still any actions you can take.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('pass', 'wait', 'hold')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'hold', 'pass', 'wait'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['wait', 'hold']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdPass.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.key">
<code class="sig-name descname">key</code><em class="property"> = 'pass'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdPass.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'wait hold', 'category': 'combat', 'key': 'pass', 'tags': '', 'text': '\n    Passes on your turn.\n\n    Usage:\n      pass\n\n    When in a fight, you can use this command to end your turn early, even\n    if there are still any actions you can take.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdPass.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">CmdRest</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdRest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Recovers damage.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>rest</p>
</dd>
</dl>
<p>Resting recovers your HP to its maximum, but you can only
rest if you’re not in a fight.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('rest',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'rest'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#CmdRest.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.key">
<code class="sig-name descname">key</code><em class="property"> = 'rest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.CmdRest.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'rest', 'tags': '', 'text': &quot;\n    Recovers damage.\n\n    Usage:\n      rest\n\n    Resting recovers your HP to its maximum, but you can only\n    rest if you're not in a fight.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.CmdRest.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">TBBasicCharacter</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicCharacter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultCharacter" title="evennia.objects.objects.DefaultCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultCharacter</span></code></a></p>
<p>A character able to participate in turn-based combat. Has attributes for current
and maximum HP, and access to combat commands.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBBasicCharacter&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.at_before_move">
<code class="sig-name descname">at_before_move</code><span class="sig-paren">(</span><em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicCharacter.at_before_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.at_before_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Called just before starting to move this object to
destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>Object</em>) – The object we are moving to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If we should move or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldmove (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the move is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicCharacter.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_basic.TBBasicCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBBasicCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicCharacter.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">TBBasicTurnHandler</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This is the script that handles the progression of combat through turns.
On creation (when a fight is started) it adds all combat-ready characters
to its roster and then sorts them into a turn order. There can only be one
fight going on in a single room at a time, so the script is assigned to a
room as its object.</p>
<p>Fights persist until only one participant is left with any HP or all
remaining participants choose to end the combat with the ‘disengage’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBBasicTurnHandler&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_repeat">
<code class="sig-name descname">at_repeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.at_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once every self.interval seconds.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when the script is created.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_stop">
<code class="sig-name descname">at_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.at_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.at_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at script termination.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.initialize_for_combat">
<code class="sig-name descname">initialize_for_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.initialize_for_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.initialize_for_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a character for combat when starting or entering a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to initialize for combat.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.join_fight">
<code class="sig-name descname">join_fight</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.join_fight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.join_fight" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new character to a fight already in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be added to the fight.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.next_turn">
<code class="sig-name descname">next_turn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.next_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.next_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances to the next character in the turn order.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.start_turn">
<code class="sig-name descname">start_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.start_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.start_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Readies a character for the start of their turn by replenishing their
available actions and notifying them that their turn has come up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be readied.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Here, you only get one action per turn, but you might want to allow more than
one per turn, or even grant a number of actions based on a character’s
attributes. You can even add multiple different kinds of actions, I.E. actions
separated for movement, by adding “character.db.combat_movesleft = 3” or
something similar.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.turn_end_check">
<code class="sig-name descname">turn_end_check</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#TBBasicTurnHandler.turn_end_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.turn_end_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests to see if a character’s turn is over, and cycles to the next turn if it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to test for end of turn</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBBasicTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.TBBasicTurnHandler.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.apply_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">apply_damage</code><span class="sig-paren">(</span><em class="sig-param">defender</em>, <em class="sig-param">damage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#apply_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.apply_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies damage to a target, reducing their HP by the damage amount to a
minimum of 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defender</strong> (<em>obj</em>) – Character taking damage</p></li>
<li><p><strong>damage</strong> (<em>int</em>) – Amount of damage being taken</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.at_defeat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">at_defeat</code><span class="sig-paren">(</span><em class="sig-param">defeated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#at_defeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.at_defeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Announces the defeat of a fighter in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>defeated</strong> (<em>obj</em>) – Fighter that’s been defeated.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All this does is announce a defeat message by default, but if you
want anything else to happen to defeated fighters (like putting them
into a dying state or something similar) then this is the place to
do it.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.combat_cleanup">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">combat_cleanup</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#combat_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.combat_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all the temporary combat-related attributes on a character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to have their combat attributes removed</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any attribute whose key begins with ‘<a href="#id13"><span class="problematic" id="id14">combat_</span></a>’ is temporary and no
longer needed once a fight ends.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.get_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">get_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#get_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.get_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for an attack roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Attack roll value, compared against a defense value</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>attack_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns a random integer from 1 to 100 without using any
properties from either the attacker or defender.</p>
<p>This can easily be expanded to return a value based on characters stats,
equipment, and abilities. This is why the attacker and defender are passed
to this function, even though nothing from either one are used in this example.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.get_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">get_damage</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#get_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.get_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for damage to be deducted from the defender’s HP after abilities
successful hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being damaged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Damage value, which is to be deducted from the defending</dt><dd><p>character’s HP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>damage_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns a random integer from 15 to 25 without using any
properties from either the attacker or defender.</p>
<p>Again, this can be expanded upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.get_defense">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">get_defense</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#get_defense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.get_defense" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for defense, which an attack roll must equal or exceed in order
for an attack to hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Defense value, compared against an attack roll</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defense_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns 50, not taking any properties of the defender or
attacker into account.</p>
<p>As above, this can be expanded upon based on character stats and equipment.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.is_in_combat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">is_in_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#is_in_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.is_in_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given character is in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if is in combat or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if in combat or False if not in combat</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.is_turn">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">is_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#is_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.is_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if it’s currently the given character’s turn in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if it is their turn or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it is their turn or False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.resolve_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">resolve_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_value=None</em>, <em class="sig-param">defense_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#resolve_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.resolve_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves an attack and outputs the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Even though the attack and defense values are calculated
extremely simply, they are separated out into their own functions
so that they are easier to expand upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.roll_init">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">roll_init</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#roll_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.roll_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls a number between 1-1000 to determine initiative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – The character to determine initiative for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The character’s place in initiative - higher
numbers go first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initiative (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, does not reference the character and simply returns
a random integer from 1 to 1000.</p>
<p>Since the character is passed to this function, you can easily reference
a character’s stats to determine an initiative roll - for example, if your
character has a ‘dexterity’ attribute, you can use it to give that character
an advantage in turn order, like so:</p>
<p>return (randint(1,20)) + character.db.dexterity</p>
<p>This way, characters with a higher dexterity will go first more often.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_basic.spend_action">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_basic.</code><code class="sig-name descname">spend_action</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">actions</em>, <em class="sig-param">action_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_basic.html#spend_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_basic.spend_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends a character’s available combat actions and checks for end of turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character spending the action</p></li>
<li><p><strong>actions</strong> (<em>int</em>) – Number of actions to spend, or ‘all’ to spend all actions</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>action_name (str or None): If a string is given, sets character’s last action in
combat to provided string</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-evennia.contrib.turnbattle.tb_equip">
<span id="evennia-contrib-turnbattle-tb-equip-module"></span><h2>evennia.contrib.turnbattle.tb_equip module<a class="headerlink" href="#module-evennia.contrib.turnbattle.tb_equip" title="Permalink to this headline">¶</a></h2>
<p>Simple turn-based combat system with equipment</p>
<p>Contrib - Tim Ashley Jenkins 2017</p>
<p>This is a version of the ‘turnbattle’ contrib with a basic system for
weapons and armor implemented. Weapons can have unique damage ranges
and accuracy modifiers, while armor can reduce incoming damage and
change one’s chance of getting hit. The ‘wield’ command is used to
equip weapons and the ‘don’ command is used to equip armor.</p>
<p>Some prototypes are included at the end of this module - feel free to
copy them into your game’s prototypes.py module in your ‘world’ folder
and create them with the &#64;spawn command. (See the tutorial for using
the &#64;spawn command for details.)</p>
<p>For the example equipment given, heavier weapons deal more damage
but are less accurate, while light weapons are more accurate but
deal less damage. Similarly, heavy armor reduces incoming damage by
a lot but increases your chance of getting hit, while light armor is
easier to dodge in but reduces incoming damage less. Light weapons are
more effective against lightly armored opponents and heavy weapons are
more damaging against heavily armored foes, but heavy weapons and armor
are slightly better than light weapons and armor overall.</p>
<p>This is a fairly bare implementation of equipment that is meant to be
expanded to fit your game - weapon and armor slots, damage types and
damage bonuses, etc. should be fairly simple to implement according to
the rules of your preferred system or the needs of your own game.</p>
<p>To install and test, import this module’s TBEquipCharacter object into
your game’s character.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_equip import TBEquipCharacter</p>
</div></blockquote>
<p>And change your game’s character typeclass to inherit from TBEquipCharacter
instead of the default:</p>
<blockquote>
<div><p>class Character(TBEquipCharacter):</p>
</div></blockquote>
<p>Next, import this module into your default_cmdsets.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle import tb_equip</p>
</div></blockquote>
<p>And add the battle command set to your default command set:</p>
<blockquote>
<div><p>#
# any commands you add below will overload the default ones.
#
self.add(tb_equip.BattleCmdSet())</p>
</div></blockquote>
<p>This module is meant to be heavily expanded on, so you may want to copy it
to your game’s ‘world’ folder and modify it there rather than importing it
in your game and using it as-is.</p>
<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_equip.ACTIONS_PER_TURN">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">ACTIONS_PER_TURN</code><em class="property"> = 1</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.ACTIONS_PER_TURN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.BattleCmdSet">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">BattleCmdSet</code><span class="sig-paren">(</span><em class="sig-param">cmdsetobj=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#BattleCmdSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.BattleCmdSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.cmdset_character.CharacterCmdSet" title="evennia.commands.default.cmdset_character.CharacterCmdSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.cmdset_character.CharacterCmdSet</span></code></a></p>
<p>This command set includes all the commmands used in the battle system.</p>
<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.BattleCmdSet.at_cmdset_creation">
<code class="sig-name descname">at_cmdset_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#BattleCmdSet.at_cmdset_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.BattleCmdSet.at_cmdset_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the cmdset</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.BattleCmdSet.key">
<code class="sig-name descname">key</code><em class="property"> = 'DefaultCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.BattleCmdSet.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.BattleCmdSet.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_equip.BattleCmdSet'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.BattleCmdSet.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdAttack</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdAttack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>attack &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may attack another character. The attack has
a chance to hit, and if successful, will deal damage.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('attack',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'attack'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdAttack.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.key">
<code class="sig-name descname">key</code><em class="property"> = 'attack'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdAttack.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'attack', 'tags': '', 'text': '\n    Attacks another character.\n\n    Usage:\n      attack &lt;target&gt;\n\n    When in a fight, you may attack another character. The attack has\n    a chance to hit, and if successful, will deal damage.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdAttack.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdCombatHelp</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdCombatHelp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.help.CmdHelp" title="evennia.commands.default.help.CmdHelp"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.help.CmdHelp</span></code></a></p>
<p>View help or a list of topics</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>help &lt;topic or command&gt;
help list
help all</p>
</dd>
</dl>
<p>This will search for help on commands and other
topics related to the game.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('help', '?')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'?', 'help'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['?']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdCombatHelp.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.func" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the dynamic help entry creator.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'general'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.key">
<code class="sig-name descname">key</code><em class="property"> = 'help'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all()'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '?', 'category': 'general', 'key': 'help', 'tags': '', 'text': '\n    View help or a list of topics\n\n    Usage:\n      help &lt;topic or command&gt;\n      help list\n      help all\n\n    This will search for help on commands and other\n    topics related to the game.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdCombatHelp.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdDisengage</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDisengage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes your turn and attempts to end combat.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>disengage</p>
</dd>
</dl>
<p>Ends your turn early and signals that you’re trying to end
the fight. If all participants in a fight disengage, the
fight ends.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('disengage', 'spare')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'disengage', 'spare'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['spare']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDisengage.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.key">
<code class="sig-name descname">key</code><em class="property"> = 'disengage'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDisengage.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'spare', 'category': 'combat', 'key': 'disengage', 'tags': '', 'text': &quot;\n    Passes your turn and attempts to end combat.\n\n    Usage:\n      disengage\n\n    Ends your turn early and signals that you're trying to end\n    the fight. If all participants in a fight disengage, the\n    fight ends.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDisengage.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdDoff</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Stop wearing armor.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>doff</p>
</dd>
</dl>
<p>After using this command, you will stop wearing any
armor you are currently using and become unarmored.
You can’t use this command in combat.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('doff',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'doff'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDoff.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.key">
<code class="sig-name descname">key</code><em class="property"> = 'doff'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDoff.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'doff', 'tags': '', 'text': &quot;\n    Stop wearing armor.\n\n    Usage:\n      doff\n\n    After using this command, you will stop wearing any\n    armor you are currently using and become unarmored.\n    You can't use this command in combat.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDoff.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdDon</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Don armor that you are carrying</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>don &lt;armor&gt;</p>
</dd>
</dl>
<p>Select armor to wear in combat. You can’t use this
command in the middle of a fight. Use the “doff”
command to remove any armor you are wearing.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('don',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'don'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdDon.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.key">
<code class="sig-name descname">key</code><em class="property"> = 'don'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdDon.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'don', 'tags': '', 'text': '\n    Don armor that you are carrying\n\n    Usage:\n      don &lt;armor&gt;\n\n    Select armor to wear in combat. You can\'t use this\n    command in the middle of a fight. Use the &quot;doff&quot;\n    command to remove any armor you are wearing.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdDon.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdFight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Starts a fight with everyone in the same room as you.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>fight</p>
</dd>
</dl>
<p>When you start a fight, everyone in the room who is able to
fight is added to combat, and a turn order is randomly rolled.
When it’s your turn, you can attack other characters.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('fight',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'fight'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdFight.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.key">
<code class="sig-name descname">key</code><em class="property"> = 'fight'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdFight.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'fight', 'tags': '', 'text': &quot;\n    Starts a fight with everyone in the same room as you.\n\n    Usage:\n      fight\n\n    When you start a fight, everyone in the room who is able to\n    fight is added to combat, and a turn order is randomly rolled.\n    When it's your turn, you can attack other characters.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdFight.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdPass</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes on your turn.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>pass</p>
</dd>
</dl>
<p>When in a fight, you can use this command to end your turn early, even
if there are still any actions you can take.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('pass', 'wait', 'hold')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'hold', 'pass', 'wait'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['wait', 'hold']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdPass.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.key">
<code class="sig-name descname">key</code><em class="property"> = 'pass'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdPass.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'wait hold', 'category': 'combat', 'key': 'pass', 'tags': '', 'text': '\n    Passes on your turn.\n\n    Usage:\n      pass\n\n    When in a fight, you can use this command to end your turn early, even\n    if there are still any actions you can take.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdPass.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdRest</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdRest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Recovers damage.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>rest</p>
</dd>
</dl>
<p>Resting recovers your HP to its maximum, but you can only
rest if you’re not in a fight.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('rest',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'rest'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdRest.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.key">
<code class="sig-name descname">key</code><em class="property"> = 'rest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdRest.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'rest', 'tags': '', 'text': &quot;\n    Recovers damage.\n\n    Usage:\n      rest\n\n    Resting recovers your HP to its maximum, but you can only\n    rest if you're not in a fight.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdRest.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdUnwield</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdUnwield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Stop wielding a weapon.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>unwield</p>
</dd>
</dl>
<p>After using this command, you will stop wielding any
weapon you are currently wielding and become unarmed.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('unwield',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'unwield'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdUnwield.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.key">
<code class="sig-name descname">key</code><em class="property"> = 'unwield'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdUnwield.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'unwield', 'tags': '', 'text': '\n    Stop wielding a weapon.\n\n    Usage:\n      unwield\n\n    After using this command, you will stop wielding any\n    weapon you are currently wielding and become unarmed.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdUnwield.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">CmdWield</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdWield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Wield a weapon you are carrying</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>wield &lt;weapon&gt;</p>
</dd>
</dl>
<p>Select a weapon you are carrying to wield in combat. If
you are already wielding another weapon, you will switch
to the weapon you specify instead. Using this command in
combat will spend your action for your turn. Use the
“unwield” command to stop wielding any weapon you are
currently wielding.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('wield',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'wield'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#CmdWield.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.key">
<code class="sig-name descname">key</code><em class="property"> = 'wield'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.CmdWield.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'wield', 'tags': '', 'text': '\n    Wield a weapon you are carrying\n\n    Usage:\n      wield &lt;weapon&gt;\n\n    Select a weapon you are carrying to wield in combat. If\n    you are already wielding another weapon, you will switch\n    to the weapon you specify instead. Using this command in\n    combat will spend your action for your turn. Use the\n    &quot;unwield&quot; command to stop wielding any weapon you are\n    currently wielding.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.CmdWield.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">TBEArmor</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultObject" title="evennia.objects.objects.DefaultObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultObject</span></code></a></p>
<p>A set of armor which can be worn with the ‘don’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBEArmor&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.at_before_drop">
<code class="sig-name descname">at_before_drop</code><span class="sig-paren">(</span><em class="sig-param">dropper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor.at_before_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.at_before_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Can’t drop in combat.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.at_before_give">
<code class="sig-name descname">at_before_give</code><span class="sig-paren">(</span><em class="sig-param">giver</em>, <em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor.at_before_give"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.at_before_give" title="Permalink to this definition">¶</a></dt>
<dd><p>Can’t give away in combat.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.at_drop">
<code class="sig-name descname">at_drop</code><span class="sig-paren">(</span><em class="sig-param">dropper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor.at_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.at_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop being wielded if dropped.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.at_give">
<code class="sig-name descname">at_give</code><span class="sig-paren">(</span><em class="sig-param">giver</em>, <em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor.at_give"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.at_give" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop being wielded if given.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEArmor.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_equip.TBEArmor'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEArmor.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBEArmor'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEArmor.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">TBEWeapon</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEWeapon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultObject" title="evennia.objects.objects.DefaultObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultObject</span></code></a></p>
<p>A weapon which can be wielded in combat with the ‘wield’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBEWeapon&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_drop">
<code class="sig-name descname">at_drop</code><span class="sig-paren">(</span><em class="sig-param">dropper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEWeapon.at_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop being wielded if dropped.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_give">
<code class="sig-name descname">at_give</code><span class="sig-paren">(</span><em class="sig-param">giver</em>, <em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEWeapon.at_give"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_give" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop being wielded if given.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEWeapon.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_equip.TBEWeapon'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEWeapon.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBEWeapon'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEWeapon.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">TBEquipCharacter</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipCharacter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultCharacter" title="evennia.objects.objects.DefaultCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultCharacter</span></code></a></p>
<p>A character able to participate in turn-based combat. Has attributes for current
and maximum HP, and access to combat commands.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBEquipCharacter&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.at_before_move">
<code class="sig-name descname">at_before_move</code><span class="sig-paren">(</span><em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipCharacter.at_before_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.at_before_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Called just before starting to move this object to
destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>Object</em>) – The object we are moving to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If we should move or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldmove (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the move is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipCharacter.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_equip.TBEquipCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBEquipCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipCharacter.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">TBEquipTurnHandler</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This is the script that handles the progression of combat through turns.
On creation (when a fight is started) it adds all combat-ready characters
to its roster and then sorts them into a turn order. There can only be one
fight going on in a single room at a time, so the script is assigned to a
room as its object.</p>
<p>Fights persist until only one participant is left with any HP or all
remaining participants choose to end the combat with the ‘disengage’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBEquipTurnHandler&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_repeat">
<code class="sig-name descname">at_repeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.at_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once every self.interval seconds.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when the script is created.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_stop">
<code class="sig-name descname">at_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.at_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.at_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at script termination.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.initialize_for_combat">
<code class="sig-name descname">initialize_for_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.initialize_for_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.initialize_for_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a character for combat when starting or entering a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to initialize for combat.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.join_fight">
<code class="sig-name descname">join_fight</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.join_fight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.join_fight" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new character to a fight already in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be added to the fight.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.next_turn">
<code class="sig-name descname">next_turn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.next_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.next_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances to the next character in the turn order.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.start_turn">
<code class="sig-name descname">start_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.start_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.start_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Readies a character for the start of their turn by replenishing their
available actions and notifying them that their turn has come up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be readied.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Here, you only get one action per turn, but you might want to allow more than
one per turn, or even grant a number of actions based on a character’s
attributes. You can even add multiple different kinds of actions, I.E. actions
separated for movement, by adding “character.db.combat_movesleft = 3” or
something similar.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.turn_end_check">
<code class="sig-name descname">turn_end_check</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#TBEquipTurnHandler.turn_end_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.turn_end_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests to see if a character’s turn is over, and cycles to the next turn if it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to test for end of turn</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBEquipTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.TBEquipTurnHandler.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.apply_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">apply_damage</code><span class="sig-paren">(</span><em class="sig-param">defender</em>, <em class="sig-param">damage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#apply_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.apply_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies damage to a target, reducing their HP by the damage amount to a
minimum of 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defender</strong> (<em>obj</em>) – Character taking damage</p></li>
<li><p><strong>damage</strong> (<em>int</em>) – Amount of damage being taken</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.at_defeat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">at_defeat</code><span class="sig-paren">(</span><em class="sig-param">defeated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#at_defeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.at_defeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Announces the defeat of a fighter in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>defeated</strong> (<em>obj</em>) – Fighter that’s been defeated.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All this does is announce a defeat message by default, but if you
want anything else to happen to defeated fighters (like putting them
into a dying state or something similar) then this is the place to
do it.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.combat_cleanup">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">combat_cleanup</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#combat_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.combat_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all the temporary combat-related attributes on a character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to have their combat attributes removed</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any attribute whose key begins with ‘<a href="#id15"><span class="problematic" id="id16">combat_</span></a>’ is temporary and no
longer needed once a fight ends.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.get_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">get_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#get_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.get_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for an attack roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Attack roll value, compared against a defense value</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>attack_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In this example, a weapon’s accuracy bonus is factored into the attack
roll. Lighter weapons are more accurate but less damaging, and heavier
weapons are less accurate but deal more damage. Of course, you can
change this paradigm completely in your own game.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.get_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">get_damage</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#get_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.get_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for damage to be deducted from the defender’s HP after abilities
successful hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being damaged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Damage value, which is to be deducted from the defending</dt><dd><p>character’s HP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>damage_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Damage is determined by the attacker’s wielded weapon, or the attacker’s
unarmed damage range if no weapon is wielded. Incoming damage is reduced
by the defender’s armor.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.get_defense">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">get_defense</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#get_defense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.get_defense" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for defense, which an attack roll must equal or exceed in order
for an attack to hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Defense value, compared against an attack roll</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defense_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Characters are given a default defense value of 50 which can be
modified up or down by armor. In this example, wearing armor actually
makes you a little easier to hit, but reduces incoming damage.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.is_in_combat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">is_in_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#is_in_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.is_in_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given character is in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if is in combat or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if in combat or False if not in combat</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.is_turn">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">is_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#is_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.is_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if it’s currently the given character’s turn in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if it is their turn or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it is their turn or False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.resolve_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">resolve_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_value=None</em>, <em class="sig-param">defense_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#resolve_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.resolve_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves an attack and outputs the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Even though the attack and defense values are calculated
extremely simply, they are separated out into their own functions
so that they are easier to expand upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.roll_init">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">roll_init</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#roll_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.roll_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls a number between 1-1000 to determine initiative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – The character to determine initiative for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The character’s place in initiative - higher
numbers go first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initiative (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, does not reference the character and simply returns
a random integer from 1 to 1000.</p>
<p>Since the character is passed to this function, you can easily reference
a character’s stats to determine an initiative roll - for example, if your
character has a ‘dexterity’ attribute, you can use it to give that character
an advantage in turn order, like so:</p>
<p>return (randint(1,20)) + character.db.dexterity</p>
<p>This way, characters with a higher dexterity will go first more often.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_equip.spend_action">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_equip.</code><code class="sig-name descname">spend_action</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">actions</em>, <em class="sig-param">action_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_equip.html#spend_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_equip.spend_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends a character’s available combat actions and checks for end of turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character spending the action</p></li>
<li><p><strong>actions</strong> (<em>int</em>) – Number of actions to spend, or ‘all’ to spend all actions</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>action_name (str or None): If a string is given, sets character’s last action in
combat to provided string</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-evennia.contrib.turnbattle.tb_items">
<span id="evennia-contrib-turnbattle-tb-items-module"></span><h2>evennia.contrib.turnbattle.tb_items module<a class="headerlink" href="#module-evennia.contrib.turnbattle.tb_items" title="Permalink to this headline">¶</a></h2>
<p>Simple turn-based combat system with items and status effects</p>
<p>Contrib - Tim Ashley Jenkins 2017</p>
<p>This is a version of the ‘turnbattle’ combat system that includes
conditions and usable items, which can instill these conditions, cure
them, or do just about anything else.</p>
<p>Conditions are stored on characters as a dictionary, where the key
is the name of the condition and the value is a list of two items:
an integer representing the number of turns left until the condition
runs out, and the character upon whose turn the condition timer is
ticked down. Unlike most combat-related attributes, conditions aren’t
wiped once combat ends - if out of combat, they tick down in real time
instead.</p>
<p>This module includes a number of example conditions:</p>
<blockquote>
<div><p>Regeneration: Character recovers HP every turn
Poisoned: Character loses HP every turn
Accuracy Up: +25 to character’s attack rolls
Accuracy Down: -25 to character’s attack rolls
Damage Up: +5 to character’s damage
Damage Down: -5 to character’s damage
Defense Up: +15 to character’s defense
Defense Down: -15 to character’s defense
Haste: +1 action per turn
Paralyzed: No actions per turn
Frightened: Character can’t use the ‘attack’ command</p>
</div></blockquote>
<p>Since conditions can have a wide variety of effects, their code is
scattered throughout the other functions wherever they may apply.</p>
<p>Items aren’t given any sort of special typeclass - instead, whether or
not an object counts as an item is determined by its attributes. To make
an object into an item, it must have the attribute ‘item_func’, with
the value given as a callable - this is the function that will be called
when an item is used. Other properties of the item, such as how many
uses it has, whether it’s destroyed when its uses are depleted, and such
can be specified on the item as well, but they are optional.</p>
<p>To install and test, import this module’s TBItemsCharacter object into
your game’s character.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_items import TBItemsCharacter</p>
</div></blockquote>
<p>And change your game’s character typeclass to inherit from TBItemsCharacter
instead of the default:</p>
<blockquote>
<div><p>class Character(TBItemsCharacter):</p>
</div></blockquote>
<p>Next, import this module into your default_cmdsets.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle import tb_items</p>
</div></blockquote>
<p>And add the battle command set to your default command set:</p>
<blockquote>
<div><p>#
# any commands you add below will overload the default ones.
#
self.add(tb_items.BattleCmdSet())</p>
</div></blockquote>
<p>This module is meant to be heavily expanded on, so you may want to copy it
to your game’s ‘world’ folder and modify it there rather than importing it
in your game and using it as-is.</p>
<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.BattleCmdSet">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">BattleCmdSet</code><span class="sig-paren">(</span><em class="sig-param">cmdsetobj=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#BattleCmdSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.BattleCmdSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.cmdset_character.CharacterCmdSet" title="evennia.commands.default.cmdset_character.CharacterCmdSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.cmdset_character.CharacterCmdSet</span></code></a></p>
<p>This command set includes all the commmands used in the battle system.</p>
<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.BattleCmdSet.at_cmdset_creation">
<code class="sig-name descname">at_cmdset_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#BattleCmdSet.at_cmdset_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.BattleCmdSet.at_cmdset_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the cmdset</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.BattleCmdSet.key">
<code class="sig-name descname">key</code><em class="property"> = 'DefaultCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.BattleCmdSet.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.BattleCmdSet.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_items.BattleCmdSet'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.BattleCmdSet.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdAttack</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdAttack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>attack &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may attack another character. The attack has
a chance to hit, and if successful, will deal damage.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('attack',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'attack'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdAttack.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.key">
<code class="sig-name descname">key</code><em class="property"> = 'attack'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdAttack.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'attack', 'tags': '', 'text': '\n    Attacks another character.\n\n    Usage:\n      attack &lt;target&gt;\n\n    When in a fight, you may attack another character. The attack has\n    a chance to hit, and if successful, will deal damage.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdAttack.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdCombatHelp</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdCombatHelp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.help.CmdHelp" title="evennia.commands.default.help.CmdHelp"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.help.CmdHelp</span></code></a></p>
<p>View help or a list of topics</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>help &lt;topic or command&gt;
help list
help all</p>
</dd>
</dl>
<p>This will search for help on commands and other
topics related to the game.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('help', '?')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'?', 'help'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['?']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdCombatHelp.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.func" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the dynamic help entry creator.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'general'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.key">
<code class="sig-name descname">key</code><em class="property"> = 'help'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all()'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdCombatHelp.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '?', 'category': 'general', 'key': 'help', 'tags': '', 'text': '\n    View help or a list of topics\n\n    Usage:\n      help &lt;topic or command&gt;\n      help list\n      help all\n\n    This will search for help on commands and other\n    topics related to the game.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdCombatHelp.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdDisengage</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdDisengage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes your turn and attempts to end combat.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>disengage</p>
</dd>
</dl>
<p>Ends your turn early and signals that you’re trying to end
the fight. If all participants in a fight disengage, the
fight ends.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('disengage', 'spare')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'disengage', 'spare'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['spare']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdDisengage.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.key">
<code class="sig-name descname">key</code><em class="property"> = 'disengage'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdDisengage.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'spare', 'category': 'combat', 'key': 'disengage', 'tags': '', 'text': &quot;\n    Passes your turn and attempts to end combat.\n\n    Usage:\n      disengage\n\n    Ends your turn early and signals that you're trying to end\n    the fight. If all participants in a fight disengage, the\n    fight ends.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdDisengage.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdFight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Starts a fight with everyone in the same room as you.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>fight</p>
</dd>
</dl>
<p>When you start a fight, everyone in the room who is able to
fight is added to combat, and a turn order is randomly rolled.
When it’s your turn, you can attack other characters.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('fight',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'fight'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdFight.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.key">
<code class="sig-name descname">key</code><em class="property"> = 'fight'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdFight.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'fight', 'tags': '', 'text': &quot;\n    Starts a fight with everyone in the same room as you.\n\n    Usage:\n      fight\n\n    When you start a fight, everyone in the room who is able to\n    fight is added to combat, and a turn order is randomly rolled.\n    When it's your turn, you can attack other characters.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdFight.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdPass</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes on your turn.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>pass</p>
</dd>
</dl>
<p>When in a fight, you can use this command to end your turn early, even
if there are still any actions you can take.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('pass', 'wait', 'hold')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'hold', 'pass', 'wait'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['wait', 'hold']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdPass.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.key">
<code class="sig-name descname">key</code><em class="property"> = 'pass'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdPass.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'wait hold', 'category': 'combat', 'key': 'pass', 'tags': '', 'text': '\n    Passes on your turn.\n\n    Usage:\n      pass\n\n    When in a fight, you can use this command to end your turn early, even\n    if there are still any actions you can take.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdPass.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdRest</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdRest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Recovers damage.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>rest</p>
</dd>
</dl>
<p>Resting recovers your HP to its maximum, but you can only
rest if you’re not in a fight.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('rest',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'rest'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdRest.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.key">
<code class="sig-name descname">key</code><em class="property"> = 'rest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdRest.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'rest', 'tags': '', 'text': &quot;\n    Recovers damage.\n\n    Usage:\n      rest\n\n    Resting recovers your HP to its maximum, but you can only\n    rest if you're not in a fight.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdRest.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">CmdUse</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdUse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.muxcommand.MuxCommand" title="evennia.commands.default.muxcommand.MuxCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.muxcommand.MuxCommand</span></code></a></p>
<p>Use an item.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>use &lt;item&gt; [= target]</p>
</dd>
</dl>
<p>An item can have various function - looking at the item may
provide information as to its effects. Some items can be used
to attack others, and as such can only be used in combat.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('use',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'use'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#CmdUse.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.key">
<code class="sig-name descname">key</code><em class="property"> = 'use'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.CmdUse.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'use', 'tags': '', 'text': '\n    Use an item.\n\n    Usage:\n      use &lt;item&gt; [= target]\n\n    An item can have various function - looking at the item may\n    provide information as to its effects. Some items can be used\n    to attack others, and as such can only be used in combat.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.CmdUse.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_items.DEF_DOWN_MOD">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">DEF_DOWN_MOD</code><em class="property"> = -15</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.DEF_DOWN_MOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_items.ITEMFUNCS">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">ITEMFUNCS</code><em class="property"> = {'add_condition': &lt;function itemfunc_add_condition&gt;, 'attack': &lt;function itemfunc_attack&gt;, 'cure_condition': &lt;function itemfunc_cure_condition&gt;, 'heal': &lt;function itemfunc_heal&gt;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.ITEMFUNCS" title="Permalink to this definition">¶</a></dt>
<dd><p>You can paste these prototypes into your game’s prototypes.py module in your
/world/ folder, and use the spawner to create them - they serve as examples
of items you can make and a handy way to demonstrate the system for
conditions as well.</p>
<p>Items don’t have any particular typeclass - any object with a db entry
“item_func” that references one of the functions given above can be used as
an item with the ‘use’ command.</p>
<p>Only “item_func” is required, but item behavior can be further modified by
specifying any of the following:</p>
<blockquote>
<div><p>item_uses (int): If defined, item has a limited number of uses</p>
<p>item_selfonly (bool): If True, user can only use the item on themself</p>
<dl class="simple">
<dt>item_consumable(True or str): If True, item is destroyed when it runs</dt><dd><p>out of uses. If a string is given, the item will spawn a new
object as it’s destroyed, with the string specifying what prototype
to spawn.</p>
</dd>
<dt>item_kwargs (dict): Keyword arguments to pass to the function defined in</dt><dd><p>item_func. Unique to each function, and can be used to make multiple
items using the same function work differently.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">TBItemsCharacter</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultCharacter" title="evennia.objects.objects.DefaultCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultCharacter</span></code></a></p>
<p>A character able to participate in turn-based combat. Has attributes for current
and maximum HP, and access to combat commands.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBItemsCharacter&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.apply_turn_conditions">
<code class="sig-name descname">apply_turn_conditions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter.apply_turn_conditions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.apply_turn_conditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the effect of conditions that occur at the start of each
turn in combat, or every 30 seconds out of combat.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_before_move">
<code class="sig-name descname">at_before_move</code><span class="sig-paren">(</span><em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter.at_before_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_before_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Called just before starting to move this object to
destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>Object</em>) – The object we are moving to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If we should move or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldmove (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the move is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_turn_start">
<code class="sig-name descname">at_turn_start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter.at_turn_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_turn_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook called at the beginning of this character’s turn in combat.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_update">
<code class="sig-name descname">at_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacter.at_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.at_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Fires every 30 seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_items.TBItemsCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacter.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBItemsCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">TBItemsCharacterTest</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacterTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacter" title="evennia.contrib.turnbattle.tb_items.TBItemsCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.contrib.turnbattle.tb_items.TBItemsCharacter</span></code></a></p>
<p>Just like the TBItemsCharacter, but doesn’t subscribe to the TickerHandler.
This makes it easier to run unit tests on.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.contrib.turnbattle.tb_items.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.contrib.turnbattle.tb_items.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBItemsCharacterTest&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsCharacterTest.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBItemsCharacterTest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsCharacterTest.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">TBItemsTurnHandler</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This is the script that handles the progression of combat through turns.
On creation (when a fight is started) it adds all combat-ready characters
to its roster and then sorts them into a turn order. There can only be one
fight going on in a single room at a time, so the script is assigned to a
room as its object.</p>
<p>Fights persist until only one participant is left with any HP or all
remaining participants choose to end the combat with the ‘disengage’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBItemsTurnHandler&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_repeat">
<code class="sig-name descname">at_repeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.at_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once every self.interval seconds.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when the script is created.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_stop">
<code class="sig-name descname">at_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.at_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.at_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at script termination.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.initialize_for_combat">
<code class="sig-name descname">initialize_for_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.initialize_for_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.initialize_for_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a character for combat when starting or entering a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to initialize for combat.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.join_fight">
<code class="sig-name descname">join_fight</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.join_fight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.join_fight" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new character to a fight already in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be added to the fight.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.next_turn">
<code class="sig-name descname">next_turn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.next_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.next_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances to the next character in the turn order.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.start_turn">
<code class="sig-name descname">start_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.start_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.start_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Readies a character for the start of their turn by replenishing their
available actions and notifying them that their turn has come up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be readied.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Here, you only get one action per turn, but you might want to allow more than
one per turn, or even grant a number of actions based on a character’s
attributes. You can even add multiple different kinds of actions, I.E. actions
separated for movement, by adding “character.db.combat_movesleft = 3” or
something similar.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.turn_end_check">
<code class="sig-name descname">turn_end_check</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#TBItemsTurnHandler.turn_end_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.turn_end_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests to see if a character’s turn is over, and cycles to the next turn if it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to test for end of turn</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBItemsTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.TBItemsTurnHandler.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.add_condition">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">add_condition</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">turnchar</em>, <em class="sig-param">condition</em>, <em class="sig-param">duration</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#add_condition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.add_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a condition to a fighter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character to give the condition to</p></li>
<li><p><strong>turnchar</strong> (<em>obj</em>) – Character whose turn to tick down the condition on in combat</p></li>
<li><p><strong>condition</strong> (<em>str</em>) – Name of the condition</p></li>
<li><p><strong>duration</strong> (<em>int</em><em> or </em><em>True</em>) – Number of turns the condition lasts, or True for indefinite</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.apply_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">apply_damage</code><span class="sig-paren">(</span><em class="sig-param">defender</em>, <em class="sig-param">damage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#apply_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.apply_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies damage to a target, reducing their HP by the damage amount to a
minimum of 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defender</strong> (<em>obj</em>) – Character taking damage</p></li>
<li><p><strong>damage</strong> (<em>int</em>) – Amount of damage being taken</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.at_defeat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">at_defeat</code><span class="sig-paren">(</span><em class="sig-param">defeated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#at_defeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.at_defeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Announces the defeat of a fighter in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>defeated</strong> (<em>obj</em>) – Fighter that’s been defeated.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All this does is announce a defeat message by default, but if you
want anything else to happen to defeated fighters (like putting them
into a dying state or something similar) then this is the place to
do it.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.combat_cleanup">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">combat_cleanup</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#combat_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.combat_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all the temporary combat-related attributes on a character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to have their combat attributes removed</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any attribute whose key begins with ‘<a href="#id17"><span class="problematic" id="id18">combat_</span></a>’ is temporary and no
longer needed once a fight ends.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.condition_tickdown">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">condition_tickdown</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">turnchar</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#condition_tickdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.condition_tickdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Ticks down the duration of conditions on a character at the start of a given character’s turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character to tick down the conditions of</p></li>
<li><p><strong>turnchar</strong> (<em>obj</em>) – Character whose turn it currently is</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In combat, this is called on every fighter at the start of every character’s turn. Out of
combat, it’s instead called when a character’s at_update() hook is called, which is every
30 seconds by default.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.get_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">get_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#get_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.get_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for an attack roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Attack roll value, compared against a defense value</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>attack_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is where conditions affecting attack rolls are applied, as well.
Accuracy Up and Accuracy Down are also accounted for in itemfunc_attack(),
so that attack items’ accuracy is affected as well.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.get_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">get_damage</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#get_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.get_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for damage to be deducted from the defender’s HP after abilities
successful hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being damaged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Damage value, which is to be deducted from the defending</dt><dd><p>character’s HP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>damage_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is where conditions affecting damage are accounted for. Since attack items
roll their own damage in itemfunc_attack(), their damage is unaffected by any
conditions.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.get_defense">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">get_defense</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#get_defense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.get_defense" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for defense, which an attack roll must equal or exceed in order
for an attack to hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Defense value, compared against an attack roll</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defense_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is where conditions affecting defense are accounted for.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.is_in_combat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">is_in_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#is_in_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.is_in_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given character is in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if is in combat or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if in combat or False if not in combat</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.is_turn">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">is_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#is_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.is_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if it’s currently the given character’s turn in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if it is their turn or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it is their turn or False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.itemfunc_add_condition">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">itemfunc_add_condition</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">user</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#itemfunc_add_condition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.itemfunc_add_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Item function that gives the target one or more conditions.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><dl class="simple">
<dt>conditions (list): Conditions added by the item</dt><dd><p>formatted as a list of tuples: (condition (str), duration (int or True))</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Should mostly be used for beneficial conditions - use itemfunc_attack
for an item that can give an enemy a harmful condition.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.itemfunc_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">itemfunc_attack</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">user</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#itemfunc_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.itemfunc_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Item function that attacks a target.</p>
<dl>
<dt>kwargs:</dt><dd><p>min_damage(int): Minimum damage dealt by the attack
max_damage(int): Maximum damage dealth by the attack
accuracy(int): Bonus / penalty to attack accuracy roll
inflict_condition(list): List of conditions inflicted on hit,</p>
<blockquote>
<div><p>formatted as a (str, int) tuple containing condition name
and duration.</p>
</div></blockquote>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Calls resolve_attack at the end.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.itemfunc_cure_condition">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">itemfunc_cure_condition</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">user</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#itemfunc_cure_condition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.itemfunc_cure_condition" title="Permalink to this definition">¶</a></dt>
<dd><p>Item function that’ll remove given conditions from a target.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><p>to_cure(list): List of conditions (str) that the item cures when used</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.itemfunc_heal">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">itemfunc_heal</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">user</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#itemfunc_heal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.itemfunc_heal" title="Permalink to this definition">¶</a></dt>
<dd><p>Item function that heals HP.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><p>min_healing(int): Minimum amount of HP recovered
max_healing(int): Maximum amount of HP recovered</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.resolve_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">resolve_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_value=None</em>, <em class="sig-param">defense_value=None</em>, <em class="sig-param">damage_value=None</em>, <em class="sig-param">inflict_condition=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#resolve_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.resolve_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves an attack and outputs the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Options:</dt><dd><p>attack_value (int): Override for attack roll
defense_value (int): Override for defense value
damage_value (int): Override for damage value
inflict_condition (list): Conditions to inflict upon hit, a</p>
<blockquote>
<div><p>list of tuples formated as (condition(str), duration(int))</p>
</div></blockquote>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is called by normal attacks as well as attacks
made with items.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.roll_init">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">roll_init</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#roll_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.roll_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls a number between 1-1000 to determine initiative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – The character to determine initiative for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The character’s place in initiative - higher
numbers go first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initiative (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, does not reference the character and simply returns
a random integer from 1 to 1000.</p>
<p>Since the character is passed to this function, you can easily reference
a character’s stats to determine an initiative roll - for example, if your
character has a ‘dexterity’ attribute, you can use it to give that character
an advantage in turn order, like so:</p>
<p>return (randint(1,20)) + character.db.dexterity</p>
<p>This way, characters with a higher dexterity will go first more often.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.spend_action">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">spend_action</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">actions</em>, <em class="sig-param">action_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#spend_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.spend_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends a character’s available combat actions and checks for end of turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character spending the action</p></li>
<li><p><strong>actions</strong> (<em>int</em>) – Number of actions to spend, or ‘all’ to spend all actions</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>action_name (str or None): If a string is given, sets character’s last action in
combat to provided string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.spend_item_use">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">spend_item_use</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">user</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#spend_item_use"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.spend_item_use" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends one use on an item with limited uses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>obj</em>) – Item being used</p></li>
<li><p><strong>user</strong> (<em>obj</em>) – Character using the item</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If item.db.item_consumable is ‘True’, the item is destroyed if it
runs out of uses - if it’s a string instead of ‘True’, it will also
spawn a new object as residue, using the value of item.db.item_consumable
as the name of the prototype to spawn.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_items.use_item">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_items.</code><code class="sig-name descname">use_item</code><span class="sig-paren">(</span><em class="sig-param">user</em>, <em class="sig-param">item</em>, <em class="sig-param">target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_items.html#use_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_items.use_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the action of using an item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> (<em>obj</em>) – Character using the item</p></li>
<li><p><strong>item</strong> (<em>obj</em>) – Item being used</p></li>
<li><p><strong>target</strong> (<em>obj</em>) – Target of the item use</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-evennia.contrib.turnbattle.tb_magic">
<span id="evennia-contrib-turnbattle-tb-magic-module"></span><h2>evennia.contrib.turnbattle.tb_magic module<a class="headerlink" href="#module-evennia.contrib.turnbattle.tb_magic" title="Permalink to this headline">¶</a></h2>
<p>Simple turn-based combat system with spell casting</p>
<p>Contrib - Tim Ashley Jenkins 2017</p>
<p>This is a version of the ‘turnbattle’ contrib that includes a basic,
expandable framework for a ‘magic system’, whereby players can spend
a limited resource (MP) to achieve a wide variety of effects, both in
and out of combat. This does not have to strictly be a system for
magic - it can easily be re-flavored to any other sort of resource
based mechanic, like psionic powers, special moves and stamina, and
so forth.</p>
<p>In this system, spells are learned by name with the ‘learnspell’
command, and then used with the ‘cast’ command. Spells can be cast in or
out of combat - some spells can only be cast in combat, some can only be
cast outside of combat, and some can be cast any time. However, if you
are in combat, you can only cast a spell on your turn, and doing so will
typically use an action (as specified in the spell’s funciton).</p>
<p>Spells are defined at the end of the module in a database that’s a
dictionary of dictionaries - each spell is matched by name to a function,
along with various parameters that restrict when the spell can be used and
what the spell can be cast on. Included is a small variety of spells that
damage opponents and heal HP, as well as one that creates an object.</p>
<p>Because a spell can call any function, a spell can be made to do just
about anything at all. The SPELLS dictionary at the bottom of the module
even allows kwargs to be passed to the spell function, so that the same
function can be re-used for multiple similar spells.</p>
<p>Spells in this system work on a very basic resource: MP, which is spent
when casting spells and restored by resting. It shouldn’t be too difficult
to modify this system to use spell slots, some physical fuel or resource,
or whatever else your game requires.</p>
<p>To install and test, import this module’s TBMagicCharacter object into
your game’s character.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_magic import TBMagicCharacter</p>
</div></blockquote>
<p>And change your game’s character typeclass to inherit from TBMagicCharacter
instead of the default:</p>
<blockquote>
<div><p>class Character(TBMagicCharacter):</p>
</div></blockquote>
<p>Note: If your character already existed you need to also make sure
to re-run the creation hooks on it to set the needed Attributes.
Use <cite>update self</cite> to try on yourself or use py to call <cite>at_object_creation()</cite>
on all existing Characters.</p>
<p>Next, import this module into your default_cmdsets.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle import tb_magic</p>
</div></blockquote>
<p>And add the battle command set to your default command set:</p>
<blockquote>
<div><p>#
# any commands you add below will overload the default ones.
#
self.add(tb_magic.BattleCmdSet())</p>
</div></blockquote>
<p>This module is meant to be heavily expanded on, so you may want to copy it
to your game’s ‘world’ folder and modify it there rather than importing it
in your game and using it as-is.</p>
<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_magic.ACTIONS_PER_TURN">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">ACTIONS_PER_TURN</code><em class="property"> = 1</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.ACTIONS_PER_TURN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.BattleCmdSet">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">BattleCmdSet</code><span class="sig-paren">(</span><em class="sig-param">cmdsetobj=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#BattleCmdSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.BattleCmdSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.cmdset_character.CharacterCmdSet" title="evennia.commands.default.cmdset_character.CharacterCmdSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.cmdset_character.CharacterCmdSet</span></code></a></p>
<p>This command set includes all the commmands used in the battle system.</p>
<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.BattleCmdSet.at_cmdset_creation">
<code class="sig-name descname">at_cmdset_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#BattleCmdSet.at_cmdset_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.BattleCmdSet.at_cmdset_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the cmdset</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.BattleCmdSet.key">
<code class="sig-name descname">key</code><em class="property"> = 'DefaultCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.BattleCmdSet.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.BattleCmdSet.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_magic.BattleCmdSet'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.BattleCmdSet.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdAttack</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdAttack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>attack &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may attack another character. The attack has
a chance to hit, and if successful, will deal damage.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('attack',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'attack'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdAttack.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.key">
<code class="sig-name descname">key</code><em class="property"> = 'attack'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdAttack.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'attack', 'tags': '', 'text': '\n    Attacks another character.\n\n    Usage:\n      attack &lt;target&gt;\n\n    When in a fight, you may attack another character. The attack has\n    a chance to hit, and if successful, will deal damage.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdAttack.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdCast</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdCast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.muxcommand.MuxCommand" title="evennia.commands.default.muxcommand.MuxCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.muxcommand.MuxCommand</span></code></a></p>
<p>Cast a magic spell that you know, provided you have the MP
to spend on its casting.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>cast &lt;spellname&gt; [= &lt;target1&gt;, &lt;target2&gt;, etc…]</p>
</dd>
</dl>
<p>Some spells can be cast on multiple targets, some can be cast
on only yourself, and some don’t need a target specified at all.
Typing ‘cast’ by itself will give you a list of spells you know.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('cast',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'cast'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdCast.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
<p>Note: This is a quite long command, since it has to cope with all
the different circumstances in which you may or may not be able
to cast a spell. None of the spell’s effects are handled by the
command - all the command does is verify that the player’s input
is valid for the spell being cast and then call the spell’s
function.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'magic'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.key">
<code class="sig-name descname">key</code><em class="property"> = 'cast'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCast.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'magic', 'key': 'cast', 'tags': '', 'text': &quot;\n    Cast a magic spell that you know, provided you have the MP\n    to spend on its casting.\n\n    Usage:\n        cast &lt;spellname&gt; [= &lt;target1&gt;, &lt;target2&gt;, etc...]\n\n    Some spells can be cast on multiple targets, some can be cast\n    on only yourself, and some don't need a target specified at all.\n    Typing 'cast' by itself will give you a list of spells you know.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCast.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdCombatHelp</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdCombatHelp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.help.CmdHelp" title="evennia.commands.default.help.CmdHelp"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.help.CmdHelp</span></code></a></p>
<p>View help or a list of topics</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>help &lt;topic or command&gt;
help list
help all</p>
</dd>
</dl>
<p>This will search for help on commands and other
topics related to the game.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('help', '?')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'?', 'help'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['?']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdCombatHelp.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.func" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the dynamic help entry creator.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'general'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.key">
<code class="sig-name descname">key</code><em class="property"> = 'help'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all()'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '?', 'category': 'general', 'key': 'help', 'tags': '', 'text': '\n    View help or a list of topics\n\n    Usage:\n      help &lt;topic or command&gt;\n      help list\n      help all\n\n    This will search for help on commands and other\n    topics related to the game.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdCombatHelp.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdDisengage</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdDisengage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes your turn and attempts to end combat.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>disengage</p>
</dd>
</dl>
<p>Ends your turn early and signals that you’re trying to end
the fight. If all participants in a fight disengage, the
fight ends.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('disengage', 'spare')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'disengage', 'spare'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['spare']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdDisengage.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.key">
<code class="sig-name descname">key</code><em class="property"> = 'disengage'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdDisengage.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'spare', 'category': 'combat', 'key': 'disengage', 'tags': '', 'text': &quot;\n    Passes your turn and attempts to end combat.\n\n    Usage:\n      disengage\n\n    Ends your turn early and signals that you're trying to end\n    the fight. If all participants in a fight disengage, the\n    fight ends.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdDisengage.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdFight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Starts a fight with everyone in the same room as you.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>fight</p>
</dd>
</dl>
<p>When you start a fight, everyone in the room who is able to
fight is added to combat, and a turn order is randomly rolled.
When it’s your turn, you can attack other characters.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('fight',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'fight'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdFight.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.key">
<code class="sig-name descname">key</code><em class="property"> = 'fight'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdFight.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'fight', 'tags': '', 'text': &quot;\n    Starts a fight with everyone in the same room as you.\n\n    Usage:\n      fight\n\n    When you start a fight, everyone in the room who is able to\n    fight is added to combat, and a turn order is randomly rolled.\n    When it's your turn, you can attack other characters.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdFight.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdLearnSpell</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdLearnSpell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Learn a magic spell.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>learnspell &lt;spell name&gt;</p>
</dd>
</dl>
<p>Adds a spell by name to your list of spells known.</p>
<p>The following spells are provided as examples:</p>
<blockquote>
<div><dl class="simple">
<dt><a href="#id1"><span class="problematic" id="id2">|</span></a>wmagic missile|n (3 MP): Fires three missiles that never miss. Can target</dt><dd><p>up to three different enemies.</p>
</dd>
</dl>
<p><a href="#id3"><span class="problematic" id="id4">|</span></a>wflame shot|n (3 MP): Shoots a high-damage jet of flame at one target.</p>
<p><a href="#id5"><span class="problematic" id="id6">|</span></a>wcure wounds|n (5 MP): Heals damage on one target.</p>
<dl class="simple">
<dt><a href="#id7"><span class="problematic" id="id8">|</span></a>wmass cure wounds|n (10 MP): Like ‘cure wounds’, but can heal up to 5</dt><dd><p>targets at once.</p>
</dd>
</dl>
<p><a href="#id9"><span class="problematic" id="id10">|</span></a>wfull heal|n (12 MP): Heals one target back to full HP.</p>
<p><a href="#id11"><span class="problematic" id="id12">|</span></a>wcactus conjuration|n (2 MP): Creates a cactus.</p>
</div></blockquote>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('learnspell',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'learnspell'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdLearnSpell.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'magic'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.key">
<code class="sig-name descname">key</code><em class="property"> = 'learnspell'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'magic', 'key': 'learnspell', 'tags': '', 'text': &quot;\n    Learn a magic spell.\n\n    Usage:\n        learnspell &lt;spell name&gt;\n\n    Adds a spell by name to your list of spells known.\n\n    The following spells are provided as examples:\n\n        |wmagic missile|n (3 MP): Fires three missiles that never miss. Can target\n            up to three different enemies.\n\n        |wflame shot|n (3 MP): Shoots a high-damage jet of flame at one target.\n\n        |wcure wounds|n (5 MP): Heals damage on one target.\n\n        |wmass cure wounds|n (10 MP): Like 'cure wounds', but can heal up to 5\n            targets at once.\n\n        |wfull heal|n (12 MP): Heals one target back to full HP.\n\n        |wcactus conjuration|n (2 MP): Creates a cactus.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdLearnSpell.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdPass</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes on your turn.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>pass</p>
</dd>
</dl>
<p>When in a fight, you can use this command to end your turn early, even
if there are still any actions you can take.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('pass', 'wait', 'hold')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'hold', 'pass', 'wait'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['wait', 'hold']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdPass.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.key">
<code class="sig-name descname">key</code><em class="property"> = 'pass'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdPass.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'wait hold', 'category': 'combat', 'key': 'pass', 'tags': '', 'text': '\n    Passes on your turn.\n\n    Usage:\n      pass\n\n    When in a fight, you can use this command to end your turn early, even\n    if there are still any actions you can take.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdPass.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdRest</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdRest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Recovers damage and restores MP.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>rest</p>
</dd>
</dl>
<p>Resting recovers your HP and MP to their maximum, but you can
only rest if you’re not in a fight.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('rest',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'rest'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdRest.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.key">
<code class="sig-name descname">key</code><em class="property"> = 'rest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdRest.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'rest', 'tags': '', 'text': &quot;\n    Recovers damage and restores MP.\n\n    Usage:\n      rest\n\n    Resting recovers your HP and MP to their maximum, but you can\n    only rest if you're not in a fight.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdRest.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">CmdStatus</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdStatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Gives combat information.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>status</p>
</dd>
</dl>
<p>Shows your current and maximum HP and your distance from
other targets in combat.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('status',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'status'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#CmdStatus.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.key">
<code class="sig-name descname">key</code><em class="property"> = 'status'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.CmdStatus.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'status', 'tags': '', 'text': '\n    Gives combat information.\n\n    Usage:\n      status\n\n    Shows your current and maximum HP and your distance from\n    other targets in combat.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.CmdStatus.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">TBMagicCharacter</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicCharacter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultCharacter" title="evennia.objects.objects.DefaultCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultCharacter</span></code></a></p>
<p>A character able to participate in turn-based combat. Has attributes for current
and maximum HP, and access to combat commands.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBMagicCharacter&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.at_before_move">
<code class="sig-name descname">at_before_move</code><span class="sig-paren">(</span><em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicCharacter.at_before_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.at_before_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Called just before starting to move this object to
destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>Object</em>) – The object we are moving to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If we should move or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldmove (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the move is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicCharacter.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
<p>Adds attributes for a character’s current and maximum HP.
We’re just going to set this value at ‘100’ by default.</p>
<p>You may want to expand this to include various ‘stats’ that
can be changed at creation and factor into combat calculations.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_magic.TBMagicCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBMagicCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicCharacter.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">TBMagicTurnHandler</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This is the script that handles the progression of combat through turns.
On creation (when a fight is started) it adds all combat-ready characters
to its roster and then sorts them into a turn order. There can only be one
fight going on in a single room at a time, so the script is assigned to a
room as its object.</p>
<p>Fights persist until only one participant is left with any HP or all
remaining participants choose to end the combat with the ‘disengage’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBMagicTurnHandler&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_repeat">
<code class="sig-name descname">at_repeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.at_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once every self.interval seconds.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when the script is created.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_stop">
<code class="sig-name descname">at_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.at_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.at_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at script termination.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.initialize_for_combat">
<code class="sig-name descname">initialize_for_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.initialize_for_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.initialize_for_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a character for combat when starting or entering a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to initialize for combat.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.join_fight">
<code class="sig-name descname">join_fight</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.join_fight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.join_fight" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new character to a fight already in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be added to the fight.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.next_turn">
<code class="sig-name descname">next_turn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.next_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.next_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances to the next character in the turn order.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.start_turn">
<code class="sig-name descname">start_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.start_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.start_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Readies a character for the start of their turn by replenishing their
available actions and notifying them that their turn has come up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be readied.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Here, you only get one action per turn, but you might want to allow more than
one per turn, or even grant a number of actions based on a character’s
attributes. You can even add multiple different kinds of actions, I.E. actions
separated for movement, by adding “character.db.combat_movesleft = 3” or
something similar.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.turn_end_check">
<code class="sig-name descname">turn_end_check</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#TBMagicTurnHandler.turn_end_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.turn_end_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests to see if a character’s turn is over, and cycles to the next turn if it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to test for end of turn</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBMagicTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.TBMagicTurnHandler.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.apply_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">apply_damage</code><span class="sig-paren">(</span><em class="sig-param">defender</em>, <em class="sig-param">damage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#apply_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.apply_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies damage to a target, reducing their HP by the damage amount to a
minimum of 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defender</strong> (<em>obj</em>) – Character taking damage</p></li>
<li><p><strong>damage</strong> (<em>int</em>) – Amount of damage being taken</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.at_defeat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">at_defeat</code><span class="sig-paren">(</span><em class="sig-param">defeated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#at_defeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.at_defeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Announces the defeat of a fighter in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>defeated</strong> (<em>obj</em>) – Fighter that’s been defeated.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All this does is announce a defeat message by default, but if you
want anything else to happen to defeated fighters (like putting them
into a dying state or something similar) then this is the place to
do it.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.combat_cleanup">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">combat_cleanup</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#combat_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.combat_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all the temporary combat-related attributes on a character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to have their combat attributes removed</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any attribute whose key begins with ‘<a href="#id19"><span class="problematic" id="id20">combat_</span></a>’ is temporary and no
longer needed once a fight ends.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.get_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">get_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#get_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.get_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for an attack roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Attack roll value, compared against a defense value</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>attack_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns a random integer from 1 to 100 without using any
properties from either the attacker or defender.</p>
<p>This can easily be expanded to return a value based on characters stats,
equipment, and abilities. This is why the attacker and defender are passed
to this function, even though nothing from either one are used in this example.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.get_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">get_damage</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#get_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.get_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for damage to be deducted from the defender’s HP after abilities
successful hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being damaged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Damage value, which is to be deducted from the defending</dt><dd><p>character’s HP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>damage_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns a random integer from 15 to 25 without using any
properties from either the attacker or defender.</p>
<p>Again, this can be expanded upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.get_defense">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">get_defense</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#get_defense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.get_defense" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for defense, which an attack roll must equal or exceed in order
for an attack to hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Defense value, compared against an attack roll</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defense_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns 50, not taking any properties of the defender or
attacker into account.</p>
<p>As above, this can be expanded upon based on character stats and equipment.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.is_in_combat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">is_in_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#is_in_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.is_in_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given character is in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if is in combat or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if in combat or False if not in combat</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.is_turn">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">is_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#is_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.is_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if it’s currently the given character’s turn in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if it is their turn or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it is their turn or False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.resolve_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">resolve_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_value=None</em>, <em class="sig-param">defense_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#resolve_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.resolve_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves an attack and outputs the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Even though the attack and defense values are calculated
extremely simply, they are separated out into their own functions
so that they are easier to expand upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.roll_init">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">roll_init</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#roll_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.roll_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls a number between 1-1000 to determine initiative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – The character to determine initiative for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The character’s place in initiative - higher
numbers go first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initiative (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, does not reference the character and simply returns
a random integer from 1 to 1000.</p>
<p>Since the character is passed to this function, you can easily reference
a character’s stats to determine an initiative roll - for example, if your
character has a ‘dexterity’ attribute, you can use it to give that character
an advantage in turn order, like so:</p>
<p>return (randint(1,20)) + character.db.dexterity</p>
<p>This way, characters with a higher dexterity will go first more often.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.spell_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">spell_attack</code><span class="sig-paren">(</span><em class="sig-param">caster</em>, <em class="sig-param">spell_name</em>, <em class="sig-param">targets</em>, <em class="sig-param">cost</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#spell_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.spell_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Spell that deals damage in combat. Similar to resolve_attack.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><dl class="simple">
<dt>attack_name (tuple): Single and plural describing the sort of</dt><dd><p>attack or projectile that strikes each enemy.</p>
</dd>
<dt>damage_range (tuple): Minimum and maximum damage dealt by the</dt><dd><p>spell. (10, 20) by default.</p>
</dd>
<dt>accuracy (int): Modifier to the spell’s attack roll, determining</dt><dd><p>an increased or decreased chance to hit. 0 by default.</p>
</dd>
<dt>attack_count (int): How many individual attacks are made as part</dt><dd><p>of the spell. If the number of attacks exceeds the number of
targets, the first target specified will be attacked more
than once. Just 1 by default - if the attack_count is less
than the number targets given, each target will only be
attacked once.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.spell_conjure">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">spell_conjure</code><span class="sig-paren">(</span><em class="sig-param">caster</em>, <em class="sig-param">spell_name</em>, <em class="sig-param">targets</em>, <em class="sig-param">cost</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#spell_conjure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.spell_conjure" title="Permalink to this definition">¶</a></dt>
<dd><p>Spell that creates an object.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><p>obj_key (str): Key of the created object.
obj_desc (str): Desc of the created object.
obj_typeclass (str): Typeclass path of the object.</p>
</dd>
</dl>
<p>If you want to make more use of this particular spell funciton,
you may want to modify it to use the spawner (in evennia.utils.spawner)
instead of creating objects directly.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.spell_healing">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">spell_healing</code><span class="sig-paren">(</span><em class="sig-param">caster</em>, <em class="sig-param">spell_name</em>, <em class="sig-param">targets</em>, <em class="sig-param">cost</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#spell_healing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.spell_healing" title="Permalink to this definition">¶</a></dt>
<dd><p>Spell that restores HP to a target or targets.</p>
<dl class="simple">
<dt>kwargs:</dt><dd><dl class="simple">
<dt>healing_range (tuple): Minimum and maximum amount healed to</dt><dd><p>each target. (20, 40) by default.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_magic.spend_action">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_magic.</code><code class="sig-name descname">spend_action</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">actions</em>, <em class="sig-param">action_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_magic.html#spend_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_magic.spend_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends a character’s available combat actions and checks for end of turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character spending the action</p></li>
<li><p><strong>actions</strong> (<em>int</em>) – Number of actions to spend, or ‘all’ to spend all actions</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>action_name (str or None): If a string is given, sets character’s last action in
combat to provided string</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-evennia.contrib.turnbattle.tb_range">
<span id="evennia-contrib-turnbattle-tb-range-module"></span><h2>evennia.contrib.turnbattle.tb_range module<a class="headerlink" href="#module-evennia.contrib.turnbattle.tb_range" title="Permalink to this headline">¶</a></h2>
<p>Simple turn-based combat system with range and movement</p>
<p>Contrib - Tim Ashley Jenkins 2017</p>
<p>This is a version of the ‘turnbattle’ contrib that includes a system
for abstract movement and positioning in combat, including distinction
between melee and ranged attacks. In this system, a fighter or object’s
exact position is not recorded - only their relative distance to other
actors in combat.</p>
<p>In this example, the distance between two objects in combat is expressed
as an integer value: 0 for “engaged” objects that are right next to each
other, 1 for “reach” which is for objects that are near each other but
not directly adjacent, and 2 for “range” for objects that are far apart.</p>
<p>When combat starts, all fighters are at reach with each other and other
objects, and at range from any exits. On a fighter’s turn, they can use
the “approach” command to move closer to an object, or the “withdraw”
command to move further away from an object, either of which takes an
action in combat. In this example, fighters are given two actions per
turn, allowing them to move and attack in the same round, or to attack
twice or move twice.</p>
<p>When you move toward an object, you will also move toward anything else
that’s close to your target - the same goes for moving away from a target,
which will also move you away from anything close to your target. Moving
toward one target may also move you away from anything you’re already
close to, but withdrawing from a target will never inadvertently bring
you closer to anything else.</p>
<p>In this example, there are two attack commands. ‘Attack’ can only hit
targets that are ‘engaged’ (range 0) with you. ‘Shoot’ can hit any target
on the field, but cannot be used if you are engaged with any other fighters.
In addition, strikes made with the ‘attack’ command are more accurate than
‘shoot’ attacks. This is only to provide an example of how melee and ranged
attacks can be made to work differently - you can, of course, modify this
to fit your rules system.</p>
<p>When in combat, the ranges of objects are also accounted for - you can’t
pick up an object unless you’re engaged with it, and can’t give an object
to another fighter without being engaged with them either. Dropped objects
are automatically assigned a range of ‘engaged’ with the fighter who dropped
them. Additionally, giving or getting an object will take an action in combat.
Dropping an object does not take an action, but can only be done on your turn.</p>
<p>When combat ends, all range values are erased and all restrictions on getting
or getting objects are lifted - distances are no longer tracked and objects in
the same room can be considered to be in the same space, as is the default
behavior of Evennia and most MUDs.</p>
<p>This system allows for strategies in combat involving movement and
positioning to be implemented in your battle system without the use of
a ‘grid’ of coordinates, which can be difficult and clunky to navigate
in text and disadvantageous to players who use screen readers. This loose,
narrative method of tracking position is based around how the matter is
handled in tabletop RPGs played without a grid - typically, a character’s
exact position in a room isn’t important, only their relative distance to
other actors.</p>
<p>You may wish to expand this system with a method of distinguishing allies
from enemies (to prevent allied characters from blocking your ranged attacks)
as well as some method by which melee-focused characters can prevent enemies
from withdrawing or punish them from doing so, such as by granting “attacks of
opportunity” or something similar. If you wish, you can also expand the breadth
of values allowed for range - rather than just 0, 1, and 2, you can allow ranges
to go up to much higher values, and give attacks and movements more varying
values for distance for a more granular system. You may also want to implement
a system for fleeing or changing rooms in combat by approaching exits, which
are objects placed in the range field like any other.</p>
<p>To install and test, import this module’s TBRangeCharacter object into
your game’s character.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_range import TBRangeCharacter</p>
</div></blockquote>
<p>And change your game’s character typeclass to inherit from TBRangeCharacter
instead of the default:</p>
<blockquote>
<div><p>class Character(TBRangeCharacter):</p>
</div></blockquote>
<p>Do the same thing in your game’s objects.py module for TBRangeObject:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle.tb_range import TBRangeObject
class Object(TBRangeObject):</p>
</div></blockquote>
<p>Next, import this module into your default_cmdsets.py module:</p>
<blockquote>
<div><p>from evennia.contrib.turnbattle import tb_range</p>
</div></blockquote>
<p>And add the battle command set to your default command set:</p>
<blockquote>
<div><p>#
# any commands you add below will overload the default ones.
#
self.add(tb_range.BattleCmdSet())</p>
</div></blockquote>
<p>This module is meant to be heavily expanded on, so you may want to copy it
to your game’s ‘world’ folder and modify it there rather than importing it
in your game and using it as-is.</p>
<dl class="data">
<dt id="evennia.contrib.turnbattle.tb_range.ACTIONS_PER_TURN">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">ACTIONS_PER_TURN</code><em class="property"> = 2</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.ACTIONS_PER_TURN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.BattleCmdSet">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">BattleCmdSet</code><span class="sig-paren">(</span><em class="sig-param">cmdsetobj=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#BattleCmdSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.BattleCmdSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.cmdset_character.CharacterCmdSet" title="evennia.commands.default.cmdset_character.CharacterCmdSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.cmdset_character.CharacterCmdSet</span></code></a></p>
<p>This command set includes all the commmands used in the battle system.</p>
<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.BattleCmdSet.at_cmdset_creation">
<code class="sig-name descname">at_cmdset_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#BattleCmdSet.at_cmdset_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.BattleCmdSet.at_cmdset_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the cmdset</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.BattleCmdSet.key">
<code class="sig-name descname">key</code><em class="property"> = 'DefaultCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.BattleCmdSet.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.BattleCmdSet.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_range.BattleCmdSet'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.BattleCmdSet.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdApproach</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdApproach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Approaches an object.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>approach &lt;target&gt;</p>
</dd>
</dl>
<p>Move one space toward a character or object. You can only attack
characters you are 0 spaces away from.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('approach',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'approach'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdApproach.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.key">
<code class="sig-name descname">key</code><em class="property"> = 'approach'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdApproach.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'approach', 'tags': '', 'text': '\n    Approaches an object.\n\n    Usage:\n      approach &lt;target&gt;\n\n    Move one space toward a character or object. You can only attack\n    characters you are 0 spaces away from.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdApproach.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdAttack</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdAttack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character in melee.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>attack &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may attack another character. The attack has
a chance to hit, and if successful, will deal damage. You can only
attack engaged targets - that is, targets that are right next to
you. Use the ‘approach’ command to get closer to a target.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('attack',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'attack'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdAttack.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.key">
<code class="sig-name descname">key</code><em class="property"> = 'attack'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdAttack.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'attack', 'tags': '', 'text': &quot;\n    Attacks another character in melee.\n\n    Usage:\n      attack &lt;target&gt;\n\n    When in a fight, you may attack another character. The attack has\n    a chance to hit, and if successful, will deal damage. You can only\n    attack engaged targets - that is, targets that are right next to\n    you. Use the 'approach' command to get closer to a target.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdAttack.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdCombatHelp</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdCombatHelp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.default.html#evennia.commands.default.help.CmdHelp" title="evennia.commands.default.help.CmdHelp"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.default.help.CmdHelp</span></code></a></p>
<p>View help or a list of topics</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>help &lt;topic or command&gt;
help list
help all</p>
</dd>
</dl>
<p>This will search for help on commands and other
topics related to the game.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('help', '?')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'?', 'help'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['?']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdCombatHelp.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.func" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the dynamic help entry creator.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'general'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.key">
<code class="sig-name descname">key</code><em class="property"> = 'help'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all()'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdCombatHelp.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '?', 'category': 'general', 'key': 'help', 'tags': '', 'text': '\n    View help or a list of topics\n\n    Usage:\n      help &lt;topic or command&gt;\n      help list\n      help all\n\n    This will search for help on commands and other\n    topics related to the game.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdCombatHelp.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdDisengage</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdDisengage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes your turn and attempts to end combat.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>disengage</p>
</dd>
</dl>
<p>Ends your turn early and signals that you’re trying to end
the fight. If all participants in a fight disengage, the
fight ends.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('disengage', 'spare')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'disengage', 'spare'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['spare']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdDisengage.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.key">
<code class="sig-name descname">key</code><em class="property"> = 'disengage'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdDisengage.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'spare', 'category': 'combat', 'key': 'disengage', 'tags': '', 'text': &quot;\n    Passes your turn and attempts to end combat.\n\n    Usage:\n      disengage\n\n    Ends your turn early and signals that you're trying to end\n    the fight. If all participants in a fight disengage, the\n    fight ends.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdDisengage.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdFight</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdFight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Starts a fight with everyone in the same room as you.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>fight</p>
</dd>
</dl>
<p>When you start a fight, everyone in the room who is able to
fight is added to combat, and a turn order is randomly rolled.
When it’s your turn, you can attack other characters.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('fight',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'fight'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdFight.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.key">
<code class="sig-name descname">key</code><em class="property"> = 'fight'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdFight.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'fight', 'tags': '', 'text': &quot;\n    Starts a fight with everyone in the same room as you.\n\n    Usage:\n      fight\n\n    When you start a fight, everyone in the room who is able to\n    fight is added to combat, and a turn order is randomly rolled.\n    When it's your turn, you can attack other characters.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdFight.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdPass</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Passes on your turn.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>pass</p>
</dd>
</dl>
<p>When in a fight, you can use this command to end your turn early, even
if there are still any actions you can take.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('pass', 'wait', 'hold')</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'hold', 'pass', 'wait'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = ['wait', 'hold']</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdPass.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.key">
<code class="sig-name descname">key</code><em class="property"> = 'pass'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdPass.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': 'wait hold', 'category': 'combat', 'key': 'pass', 'tags': '', 'text': '\n    Passes on your turn.\n\n    Usage:\n      pass\n\n    When in a fight, you can use this command to end your turn early, even\n    if there are still any actions you can take.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdPass.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdRest</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdRest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Recovers damage.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>rest</p>
</dd>
</dl>
<p>Resting recovers your HP to its maximum, but you can only
rest if you’re not in a fight.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('rest',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'rest'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdRest.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.key">
<code class="sig-name descname">key</code><em class="property"> = 'rest'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdRest.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'rest', 'tags': '', 'text': &quot;\n    Recovers damage.\n\n    Usage:\n      rest\n\n    Resting recovers your HP to its maximum, but you can only\n    rest if you're not in a fight.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdRest.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdShoot</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdShoot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Attacks another character from range.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>shoot &lt;target&gt;</p>
</dd>
</dl>
<p>When in a fight, you may shoot another character. The attack has
a chance to hit, and if successful, will deal damage. You can attack
any target in combat by shooting, but can’t shoot if there are any
targets engaged with you. Use the ‘withdraw’ command to retreat from
nearby enemies.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('shoot',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'shoot'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdShoot.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.key">
<code class="sig-name descname">key</code><em class="property"> = 'shoot'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdShoot.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'shoot', 'tags': '', 'text': &quot;\n    Attacks another character from range.\n\n    Usage:\n      shoot &lt;target&gt;\n\n    When in a fight, you may shoot another character. The attack has\n    a chance to hit, and if successful, will deal damage. You can attack\n    any target in combat by shooting, but can't shoot if there are any\n    targets engaged with you. Use the 'withdraw' command to retreat from\n    nearby enemies.\n    &quot;}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdShoot.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdStatus</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdStatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Gives combat information.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>status</p>
</dd>
</dl>
<p>Shows your current and maximum HP and your distance from
other targets in combat.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('status',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'status'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdStatus.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.key">
<code class="sig-name descname">key</code><em class="property"> = 'status'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdStatus.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'status', 'tags': '', 'text': '\n    Gives combat information.\n\n    Usage:\n      status\n\n    Shows your current and maximum HP and your distance from\n    other targets in combat.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdStatus.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">CmdWithdraw</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdWithdraw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.commands.html#evennia.commands.command.Command" title="evennia.commands.command.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.commands.command.Command</span></code></a></p>
<p>Moves away from an object.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>withdraw &lt;target&gt;</p>
</dd>
</dl>
<p>Move one space away from a character or object.</p>
<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw._keyaliases">
<code class="sig-name descname">_keyaliases</code><em class="property"> = ('withdraw',)</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw._keyaliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw._matchset">
<code class="sig-name descname">_matchset</code><em class="property"> = {'withdraw'}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw._matchset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.aliases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.func">
<code class="sig-name descname">func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#CmdWithdraw.func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.func" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs the actual command.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.help_category">
<code class="sig-name descname">help_category</code><em class="property"> = 'combat'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.help_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.key">
<code class="sig-name descname">key</code><em class="property"> = 'withdraw'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.lock_storage">
<code class="sig-name descname">lock_storage</code><em class="property"> = 'cmd:all();'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.lock_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.CmdWithdraw.search_index_entry">
<code class="sig-name descname">search_index_entry</code><em class="property"> = {'aliases': '', 'category': 'combat', 'key': 'withdraw', 'tags': '', 'text': '\n    Moves away from an object.\n\n    Usage:\n      withdraw &lt;target&gt;\n\n    Move one space away from a character or object.\n    '}</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.CmdWithdraw.search_index_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">TBRangeCharacter</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeCharacter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultCharacter" title="evennia.objects.objects.DefaultCharacter"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultCharacter</span></code></a></p>
<p>A character able to participate in turn-based combat. Has attributes for current
and maximum HP, and access to combat commands.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBRangeCharacter&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.at_before_move">
<code class="sig-name descname">at_before_move</code><span class="sig-paren">(</span><em class="sig-param">destination</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeCharacter.at_before_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.at_before_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Called just before starting to move this object to
destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>Object</em>) – The object we are moving to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If we should move or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldmove (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the move is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.at_object_creation">
<code class="sig-name descname">at_object_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeCharacter.at_object_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.at_object_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when this object is first created. This is the
normal hook to overload for most object types.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_range.TBRangeCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeCharacter.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBRangeCharacter'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeCharacter.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">TBRangeObject</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.objects.html#evennia.objects.objects.DefaultObject" title="evennia.objects.objects.DefaultObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DefaultObject</span></code></a></p>
<p>An object that is assigned range values in combat. Getting, giving, and dropping
the object has restrictions in combat - you must be next to an object to get it,
must be next to your target to give them something, and can only interact with
objects on your own turn.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.objects.objects.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBRangeObject&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_drop">
<code class="sig-name descname">at_before_drop</code><span class="sig-paren">(</span><em class="sig-param">dropper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_before_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>drop</cite> command before this object has been
dropped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dropper</strong> (<em>Object</em>) – The object which will drop this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the object should be dropped or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shoulddrop (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the dropping is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_get">
<code class="sig-name descname">at_before_get</code><span class="sig-paren">(</span><em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_before_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>get</cite> command before this object has been
picked up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>getter</strong> (<em>Object</em>) – The object about to get this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the object should be gotten or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldget (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the getting is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_give">
<code class="sig-name descname">at_before_give</code><span class="sig-paren">(</span><em class="sig-param">giver</em>, <em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_before_give"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_before_give" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>give</cite> command before this object has been
given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>giver</strong> (<em>Object</em>) – The object about to give this object.</p></li>
<li><p><strong>getter</strong> (<em>Object</em>) – The object about to get this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the object should be given or not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shouldgive (bool)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If this method returns False/None, the giving is cancelled
before it is even started.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_drop">
<code class="sig-name descname">at_drop</code><span class="sig-paren">(</span><em class="sig-param">dropper</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>drop</cite> command when this object has been
dropped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dropper</strong> (<em>Object</em>) – The object which just dropped this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This hook cannot stop the drop from happening. Use
permissions or the at_before_drop() hook for that.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_get">
<code class="sig-name descname">at_get</code><span class="sig-paren">(</span><em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>get</cite> command when this object has been
picked up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>getter</strong> (<em>Object</em>) – The object getting this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This hook cannot stop the pickup from happening. Use
permissions or the at_before_get() hook for that.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.at_give">
<code class="sig-name descname">at_give</code><span class="sig-paren">(</span><em class="sig-param">giver</em>, <em class="sig-param">getter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeObject.at_give"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.at_give" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the default <cite>give</cite> command when this object has been
given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>giver</strong> (<em>Object</em>) – The object giving this object.</p></li>
<li><p><strong>getter</strong> (<em>Object</em>) – The object getting this object.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Arbitrary, optional arguments for users
overriding the call (unused by default).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This hook cannot stop the give from happening. Use
permissions or the at_before_give() hook for that.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_range.TBRangeObject'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeObject.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBRangeObject'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeObject.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler">
<em class="property">class </em><code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">TBRangeTurnHandler</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="evennia.scripts.html#evennia.scripts.scripts.DefaultScript" title="evennia.scripts.scripts.DefaultScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DefaultScript</span></code></a></p>
<p>This is the script that handles the progression of combat through turns.
On creation (when a fight is started) it adds all combat-ready characters
to its roster and then sorts them into a turn order. There can only be one
fight going on in a single room at a time, so the script is assigned to a
room as its object.</p>
<p>Fights persist until only one participant is left with any HP or all
remaining participants choose to end the combat with the ‘disengage’ command.</p>
<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.DoesNotExist</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">evennia.scripts.scripts.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler._meta">
<code class="sig-name descname">_meta</code><em class="property"> = &lt;Options for TBRangeTurnHandler&gt;</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler._meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_repeat">
<code class="sig-name descname">at_repeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.at_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once every self.interval seconds.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_script_creation">
<code class="sig-name descname">at_script_creation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.at_script_creation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_script_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once, when the script is created.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_stop">
<code class="sig-name descname">at_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.at_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.at_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at script termination.</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.init_range">
<code class="sig-name descname">init_range</code><span class="sig-paren">(</span><em class="sig-param">to_init</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.init_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.init_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes range values for an object at the start of a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to_init</strong> (<em>object</em>) – Object to initialize range field for.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.initialize_for_combat">
<code class="sig-name descname">initialize_for_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.initialize_for_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.initialize_for_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a character for combat when starting or entering a fight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to initialize for combat.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.join_fight">
<code class="sig-name descname">join_fight</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.join_fight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.join_fight" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new character to a fight already in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be added to the fight.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.join_rangefield">
<code class="sig-name descname">join_rangefield</code><span class="sig-paren">(</span><em class="sig-param">to_init</em>, <em class="sig-param">anchor_obj=None</em>, <em class="sig-param">add_distance=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.join_rangefield"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.join_rangefield" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new object to the range field of a fight in progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to_init</strong> (<em>object</em>) – Object to initialize range field for.</p>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>anchor_obj (object): Object to copy range values from, or None for a random object.
add_distance (int): Distance to put between to_init object and anchor object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.next_turn">
<code class="sig-name descname">next_turn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.next_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.next_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Advances to the next character in the turn order.</p>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.path">
<code class="sig-name descname">path</code><em class="property"> = 'evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.start_turn">
<code class="sig-name descname">start_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.start_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.start_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Readies a character for the start of their turn by replenishing their
available actions and notifying them that their turn has come up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to be readied.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In this example, characters are given two actions per turn. This allows
characters to both move and attack in the same turn (or, alternately,
move twice or attack twice).</p>
</dd></dl>

<dl class="method">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.turn_end_check">
<code class="sig-name descname">turn_end_check</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#TBRangeTurnHandler.turn_end_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.turn_end_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests to see if a character’s turn is over, and cycles to the next turn if it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to test for end of turn</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.typename">
<code class="sig-name descname">typename</code><em class="property"> = 'TBRangeTurnHandler'</em><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.TBRangeTurnHandler.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.apply_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">apply_damage</code><span class="sig-paren">(</span><em class="sig-param">defender</em>, <em class="sig-param">damage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#apply_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.apply_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies damage to a target, reducing their HP by the damage amount to a
minimum of 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defender</strong> (<em>obj</em>) – Character taking damage</p></li>
<li><p><strong>damage</strong> (<em>int</em>) – Amount of damage being taken</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.approach">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">approach</code><span class="sig-paren">(</span><em class="sig-param">mover</em>, <em class="sig-param">target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#approach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.approach" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages a character’s whole approach, including changes in ranges to other characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mover</strong> (<em>obj</em>) – The object moving</p></li>
<li><p><strong>target</strong> (<em>obj</em>) – The object to be moved toward</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The mover will also automatically move toward any objects that are closer to the
target than the mover is. The mover will also move away from anything they started
out close to.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.at_defeat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">at_defeat</code><span class="sig-paren">(</span><em class="sig-param">defeated</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#at_defeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.at_defeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Announces the defeat of a fighter in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>defeated</strong> (<em>obj</em>) – Fighter that’s been defeated.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>All this does is announce a defeat message by default, but if you
want anything else to happen to defeated fighters (like putting them
into a dying state or something similar) then this is the place to
do it.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.combat_cleanup">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">combat_cleanup</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#combat_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.combat_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up all the temporary combat-related attributes on a character.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to have their combat attributes removed</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Any attribute whose key begins with ‘<a href="#id21"><span class="problematic" id="id22">combat_</span></a>’ is temporary and no
longer needed once a fight ends.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.combat_status_message">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">combat_status_message</code><span class="sig-paren">(</span><em class="sig-param">fighter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#combat_status_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.combat_status_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a message to a player with their current HP and
distances to other fighters and objects. Called at turn
start and by the ‘status’ command.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.distance_inc">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">distance_inc</code><span class="sig-paren">(</span><em class="sig-param">mover</em>, <em class="sig-param">target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#distance_inc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.distance_inc" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that increases distance in range field between mover and target.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mover</strong> (<em>obj</em>) – The object moving</p></li>
<li><p><strong>target</strong> (<em>obj</em>) – The object to be moved away from</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.get_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">get_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#get_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.get_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for an attack roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
<li><p><strong>attack_type</strong> (<em>str</em>) – Type of attack (‘melee’ or ‘ranged’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Attack roll value, compared against a defense value</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>attack_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, generates a random integer from 1 to 100 without using any
properties from either the attacker or defender, and modifies the result
based on whether it’s for a melee or ranged attack.</p>
<p>This can easily be expanded to return a value based on characters stats,
equipment, and abilities. This is why the attacker and defender are passed
to this function, even though nothing from either one are used in this example.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.get_damage">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">get_damage</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#get_damage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.get_damage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for damage to be deducted from the defender’s HP after abilities
successful hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being damaged</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Damage value, which is to be deducted from the defending</dt><dd><p>character’s HP.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>damage_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns a random integer from 15 to 25 without using any
properties from either the attacker or defender.</p>
<p>Again, this can be expanded upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.get_defense">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">get_defense</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#get_defense"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.get_defense" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value for defense, which an attack roll must equal or exceed in order
for an attack to hit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
<li><p><strong>attack_type</strong> (<em>str</em>) – Type of attack (‘melee’ or ‘ranged’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Defense value, compared against an attack roll</dt><dd><p>to determine whether an attack hits or misses.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defense_value (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, returns 50, not taking any properties of the defender or
attacker into account.</p>
<p>As above, this can be expanded upon based on character stats and equipment.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.get_range">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">get_range</code><span class="sig-paren">(</span><em class="sig-param">obj1</em>, <em class="sig-param">obj2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#get_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the combat range between two objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj1</strong> (<em>obj</em>) – First object</p></li>
<li><p><strong>obj2</strong> (<em>obj</em>) – Second object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Distance between two objects or None if not applicable</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>range (int or None)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.is_in_combat">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">is_in_combat</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#is_in_combat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.is_in_combat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given character is in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if is in combat or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if in combat or False if not in combat</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.is_turn">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">is_turn</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#is_turn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.is_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if it’s currently the given character’s turn in combat.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – Character to determine if it is their turn or not</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it is their turn or False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(bool)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.resolve_attack">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">resolve_attack</code><span class="sig-paren">(</span><em class="sig-param">attacker</em>, <em class="sig-param">defender</em>, <em class="sig-param">attack_type</em>, <em class="sig-param">attack_value=None</em>, <em class="sig-param">defense_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#resolve_attack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.resolve_attack" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves an attack and outputs the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attacker</strong> (<em>obj</em>) – Character doing the attacking</p></li>
<li><p><strong>defender</strong> (<em>obj</em>) – Character being attacked</p></li>
<li><p><strong>attack_type</strong> (<em>str</em>) – Type of attack (melee or ranged)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Even though the attack and defense values are calculated
extremely simply, they are separated out into their own functions
so that they are easier to expand upon.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.roll_init">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">roll_init</code><span class="sig-paren">(</span><em class="sig-param">character</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#roll_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.roll_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls a number between 1-1000 to determine initiative.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>character</strong> (<em>obj</em>) – The character to determine initiative for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The character’s place in initiative - higher
numbers go first.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>initiative (int)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>By default, does not reference the character and simply returns
a random integer from 1 to 1000.</p>
<p>Since the character is passed to this function, you can easily reference
a character’s stats to determine an initiative roll - for example, if your
character has a ‘dexterity’ attribute, you can use it to give that character
an advantage in turn order, like so:</p>
<p>return (randint(1,20)) + character.db.dexterity</p>
<p>This way, characters with a higher dexterity will go first more often.</p>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.spend_action">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">spend_action</code><span class="sig-paren">(</span><em class="sig-param">character</em>, <em class="sig-param">actions</em>, <em class="sig-param">action_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#spend_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.spend_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Spends a character’s available combat actions and checks for end of turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>character</strong> (<em>obj</em>) – Character spending the action</p></li>
<li><p><strong>actions</strong> (<em>int</em>) – Number of actions to spend, or ‘all’ to spend all actions</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Kwargs:</dt><dd><p>action_name (str or None): If a string is given, sets character’s last action in
combat to provided string</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="evennia.contrib.turnbattle.tb_range.withdraw">
<code class="sig-prename descclassname">evennia.contrib.turnbattle.tb_range.</code><code class="sig-name descname">withdraw</code><span class="sig-paren">(</span><em class="sig-param">mover</em>, <em class="sig-param">target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/contrib/turnbattle/tb_range.html#withdraw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.contrib.turnbattle.tb_range.withdraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages a character’s whole withdrawal, including changes in ranges to other characters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mover</strong> (<em>obj</em>) – The object moving</p></li>
<li><p><strong>target</strong> (<em>obj</em>) – The object to be moved away from</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The mover will also automatically move away from objects that are close to the target
of their withdrawl. The mover will never inadvertently move toward anything else while
withdrawing - they can be considered to be moving to open space.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, The Evennia developer community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.9.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>